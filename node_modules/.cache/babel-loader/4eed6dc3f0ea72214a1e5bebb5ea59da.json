{"ast":null,"code":"/*! Summernote v0.8.11 | (c) 2013- Alan Hong and other contributors | MIT license */\n!function (t, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? e(require(\"jquery\")) : \"function\" == typeof define && define.amd ? define([\"jquery\"], e) : e(t.jQuery);\n}(this, function (k) {\n  \"use strict\";\n\n  k = k && k.hasOwnProperty(\"default\") ? k.default : k;\n\n  var i = function () {\n    function t(t, e, o, n) {\n      this.markup = t, this.children = e, this.options = o, this.callback = n;\n    }\n\n    return t.prototype.render = function (t) {\n      var o = k(this.markup);\n\n      if (this.options && this.options.contents && o.html(this.options.contents), this.options && this.options.className && o.addClass(this.options.className), this.options && this.options.data && k.each(this.options.data, function (t, e) {\n        o.attr(\"data-\" + t, e);\n      }), this.options && this.options.click && o.on(\"click\", this.options.click), this.children) {\n        var e = o.find(\".note-children-container\");\n        this.children.forEach(function (t) {\n          t.render(e.length ? e : o);\n        });\n      }\n\n      return this.callback && this.callback(o, this.options), this.options && this.options.callback && this.options.callback(o), t && t.append(o), o;\n    }, t;\n  }(),\n      o = function o(_o, n) {\n    return function () {\n      var t = \"object\" == typeof arguments[1] ? arguments[1] : arguments[0],\n          e = k.isArray(arguments[0]) ? arguments[0] : [];\n      return t && t.children && (e = t.children), new i(_o, e, t, n);\n    };\n  },\n      t = o('<div class=\"note-editor note-frame panel panel-default\"/>'),\n      e = o('<div class=\"note-toolbar panel-heading\" role=\"toolbar\"></div></div>'),\n      n = o('<div class=\"note-editing-area\"/>'),\n      r = o('<textarea class=\"note-codable\" role=\"textbox\" aria-multiline=\"true\"/>'),\n      s = o('<div class=\"note-editable\" contentEditable=\"true\" role=\"textbox\" aria-multiline=\"true\"/>'),\n      a = o(['<output class=\"note-status-output\" aria-live=\"polite\"/>', '<div class=\"note-statusbar\" role=\"status\">', '  <div class=\"note-resizebar\" role=\"seperator\" aria-orientation=\"horizontal\" aria-label=\"Resize\">', '    <div class=\"note-icon-bar\"/>', '    <div class=\"note-icon-bar\"/>', '    <div class=\"note-icon-bar\"/>', \"  </div>\", \"</div>\"].join(\"\")),\n      l = o('<div class=\"note-editor\"/>'),\n      c = o(['<div class=\"note-editable\" contentEditable=\"true\" role=\"textbox\" aria-multiline=\"true\"/>', '<output class=\"note-status-output\" aria-live=\"polite\"/>'].join(\"\")),\n      d = o('<div class=\"note-btn-group btn-group\">'),\n      u = o('<ul class=\"dropdown-menu\" role=\"list\">', function (t, i) {\n    var e = k.isArray(i.items) ? i.items.map(function (t) {\n      var e = \"string\" == typeof t ? t : t.value || \"\",\n          o = i.template ? i.template(t) : t,\n          n = \"object\" == typeof t ? t.option : void 0;\n      return '<li role=\"listitem\" aria-label=\"' + t + '\"><a href=\"#\" ' + ('data-value=\"' + e + '\"' + (void 0 !== n ? ' data-option=\"' + n + '\"' : \"\")) + \">\" + o + \"</a></li>\";\n    }).join(\"\") : i.items;\n    t.html(e).attr({\n      \"aria-label\": i.title\n    });\n  }),\n      h = o('<ul class=\"dropdown-menu note-check\" role=\"list\">', function (t, n) {\n    var e = k.isArray(n.items) ? n.items.map(function (t) {\n      var e = \"string\" == typeof t ? t : t.value || \"\",\n          o = n.template ? n.template(t) : t;\n      return '<li role=\"listitem\" aria-label=\"' + t + '\"><a href=\"#\" data-value=\"' + e + '\">' + v(n.checkClassName) + \" \" + o + \"</a></li>\";\n    }).join(\"\") : n.items;\n    t.html(e).attr({\n      \"aria-label\": n.title\n    });\n  }),\n      p = o('<div class=\"note-color-palette\"/>', function (t, e) {\n    for (var o = [], n = 0, i = e.colors.length; n < i; n++) {\n      for (var r = e.eventName, s = e.colors[n], a = e.colorsName[n], l = [], c = 0, d = s.length; c < d; c++) {\n        var u = s[c],\n            h = a[c];\n        l.push(['<button type=\"button\" class=\"note-color-btn\"', 'style=\"background-color:', u, '\" ', 'data-event=\"', r, '\" ', 'data-value=\"', u, '\" ', 'title=\"', h, '\" ', 'aria-label=\"', h, '\" ', 'data-toggle=\"button\" tabindex=\"-1\"></button>'].join(\"\"));\n      }\n\n      o.push('<div class=\"note-color-row\">' + l.join(\"\") + \"</div>\");\n    }\n\n    t.html(o.join(\"\")), e.tooltip && t.find(\".note-color-btn\").tooltip({\n      container: e.container,\n      trigger: \"hover\",\n      placement: \"bottom\"\n    });\n  }),\n      f = o('<div class=\"modal\" aria-hidden=\"false\" tabindex=\"-1\" role=\"dialog\"/>', function (t, e) {\n    e.fade && t.addClass(\"fade\"), t.attr({\n      \"aria-label\": e.title\n    }), t.html(['<div class=\"modal-dialog\">', '  <div class=\"modal-content\">', e.title ? '    <div class=\"modal-header\">      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" aria-hidden=\"true\">&times;</button>      <h4 class=\"modal-title\">' + e.title + \"</h4>    </div>\" : \"\", '    <div class=\"modal-body\">' + e.body + \"</div>\", e.footer ? '    <div class=\"modal-footer\">' + e.footer + \"</div>\" : \"\", \"  </div>\", \"</div>\"].join(\"\"));\n  }),\n      m = o(['<div class=\"note-popover popover in\">', '  <div class=\"arrow\"/>', '  <div class=\"popover-content note-children-container\"/>', \"</div>\"].join(\"\"), function (t, e) {\n    var o = void 0 !== e.direction ? e.direction : \"bottom\";\n    t.addClass(o), e.hideArrow && t.find(\".arrow\").hide();\n  }),\n      g = o('<div class=\"checkbox\"></div>', function (t, e) {\n    t.html([\"<label\" + (e.id ? ' for=\"' + e.id + '\"' : \"\") + \">\", ' <input role=\"checkbox\" type=\"checkbox\"' + (e.id ? ' id=\"' + e.id + '\"' : \"\"), e.checked ? \" checked\" : \"\", ' aria-checked=\"' + (e.checked ? \"true\" : \"false\") + '\"/>', e.text ? e.text : \"\", \"</label>\"].join(\"\"));\n  }),\n      v = function v(t, e) {\n    return \"<\" + (e = e || \"i\") + ' class=\"' + t + '\"/>';\n  },\n      b = {\n    editor: t,\n    toolbar: e,\n    editingArea: n,\n    codable: r,\n    editable: s,\n    statusbar: a,\n    airEditor: l,\n    airEditable: c,\n    buttonGroup: d,\n    dropdown: u,\n    dropdownButtonContents: function dropdownButtonContents(t, e) {\n      return t + \" \" + v(e.icons.caret, \"span\");\n    },\n    dropdownCheck: h,\n    palette: p,\n    dialog: f,\n    popover: m,\n    checkbox: g,\n    icon: v,\n    options: {},\n    button: function button(t, e) {\n      return o('<button type=\"button\" class=\"note-btn btn btn-default btn-sm\" role=\"button\" tabindex=\"-1\">', function (t, e) {\n        e && e.tooltip && t.attr({\n          title: e.tooltip,\n          \"aria-label\": e.tooltip\n        }).tooltip({\n          container: void 0 !== e.container ? e.container : \"body\",\n          trigger: \"hover\",\n          placement: \"bottom\"\n        });\n      })(t, e);\n    },\n    toggleBtn: function toggleBtn(t, e) {\n      t.toggleClass(\"disabled\", !e), t.attr(\"disabled\", !e);\n    },\n    toggleBtnActive: function toggleBtnActive(t, e) {\n      t.toggleClass(\"active\", e);\n    },\n    onDialogShown: function onDialogShown(t, e) {\n      t.one(\"shown.bs.modal\", e);\n    },\n    onDialogHidden: function onDialogHidden(t, e) {\n      t.one(\"hidden.bs.modal\", e);\n    },\n    showDialog: function showDialog(t) {\n      t.modal(\"show\");\n    },\n    hideDialog: function hideDialog(t) {\n      t.modal(\"hide\");\n    },\n    createLayout: function createLayout(t, e) {\n      var o = (e.airMode ? b.airEditor([b.editingArea([b.airEditable()])]) : b.editor([b.toolbar(), b.editingArea([b.codable(), b.editable()]), b.statusbar()])).render();\n      return o.insertAfter(t), {\n        note: t,\n        editor: o,\n        toolbar: o.find(\".note-toolbar\"),\n        editingArea: o.find(\".note-editing-area\"),\n        editable: o.find(\".note-editable\"),\n        codable: o.find(\".note-codable\"),\n        statusbar: o.find(\".note-statusbar\")\n      };\n    },\n    removeLayout: function removeLayout(t, e) {\n      t.html(e.editable.html()), e.editor.remove(), t.show();\n    }\n  };\n\n  var y = 0;\n  var C = {\n    eq: function eq(e) {\n      return function (t) {\n        return e === t;\n      };\n    },\n    eq2: function eq2(t, e) {\n      return t === e;\n    },\n    peq2: function peq2(o) {\n      return function (t, e) {\n        return t[o] === e[o];\n      };\n    },\n    ok: function ok() {\n      return !0;\n    },\n    fail: function fail() {\n      return !1;\n    },\n    self: function self(t) {\n      return t;\n    },\n    not: function not(t) {\n      return function () {\n        return !t.apply(t, arguments);\n      };\n    },\n    and: function and(e, o) {\n      return function (t) {\n        return e(t) && o(t);\n      };\n    },\n    invoke: function invoke(t, e) {\n      return function () {\n        return t[e].apply(t, arguments);\n      };\n    },\n    uniqueId: function uniqueId(t) {\n      var e = ++y + \"\";\n      return t ? t + e : e;\n    },\n    rect2bnd: function rect2bnd(t) {\n      var e = $(document);\n      return {\n        top: t.top + e.scrollTop(),\n        left: t.left + e.scrollLeft(),\n        width: t.right - t.left,\n        height: t.bottom - t.top\n      };\n    },\n    invertObject: function invertObject(t) {\n      var e = {};\n\n      for (var o in t) {\n        t.hasOwnProperty(o) && (e[t[o]] = o);\n      }\n\n      return e;\n    },\n    namespaceToCamel: function namespaceToCamel(t, e) {\n      return (e = e || \"\") + t.split(\".\").map(function (t) {\n        return t.substring(0, 1).toUpperCase() + t.substring(1);\n      }).join(\"\");\n    },\n    debounce: function debounce(n, i, r) {\n      var s;\n      return function () {\n        var t = this,\n            e = arguments,\n            o = r && !s;\n        clearTimeout(s), s = setTimeout(function () {\n          s = null, r || n.apply(t, e);\n        }, i), o && n.apply(t, e);\n      };\n    }\n  };\n\n  function w(t) {\n    return t[0];\n  }\n\n  function x(t) {\n    return t[t.length - 1];\n  }\n\n  function S(t) {\n    return t.slice(1);\n  }\n\n  function T(t, e) {\n    return k.inArray(e, t);\n  }\n\n  function I(t, e) {\n    return -1 !== T(t, e);\n  }\n\n  var N = {\n    head: w,\n    last: x,\n    initial: function initial(t) {\n      return t.slice(0, t.length - 1);\n    },\n    tail: S,\n    prev: function prev(t, e) {\n      var o = T(t, e);\n      return -1 === o ? null : t[o - 1];\n    },\n    next: function next(t, e) {\n      var o = T(t, e);\n      return -1 === o ? null : t[o + 1];\n    },\n    find: function find(t, e) {\n      for (var o = 0, n = t.length; o < n; o++) {\n        var i = t[o];\n        if (e(i)) return i;\n      }\n    },\n    contains: I,\n    all: function all(t, e) {\n      for (var o = 0, n = t.length; o < n; o++) {\n        if (!e(t[o])) return !1;\n      }\n\n      return !0;\n    },\n    sum: function sum(t, o) {\n      return o = o || C.self, t.reduce(function (t, e) {\n        return t + o(e);\n      }, 0);\n    },\n    from: function from(t) {\n      for (var e = [], o = t.length, n = -1; ++n < o;) {\n        e[n] = t[n];\n      }\n\n      return e;\n    },\n    isEmpty: function isEmpty(t) {\n      return !t || !t.length;\n    },\n    clusterBy: function clusterBy(t, n) {\n      return t.length ? S(t).reduce(function (t, e) {\n        var o = x(t);\n        return n(x(o), e) ? o[o.length] = e : t[t.length] = [e], t;\n      }, [[w(t)]]) : [];\n    },\n    compact: function compact(t) {\n      for (var e = [], o = 0, n = t.length; o < n; o++) {\n        t[o] && e.push(t[o]);\n      }\n\n      return e;\n    },\n    unique: function unique(t) {\n      for (var e = [], o = 0, n = t.length; o < n; o++) {\n        I(e, t[o]) || e.push(t[o]);\n      }\n\n      return e;\n    }\n  },\n      E = \"function\" == typeof define && define.amd;\n  var A,\n      R = navigator.userAgent,\n      F = /MSIE|Trident/i.test(R);\n\n  if (F) {\n    var P = /MSIE (\\d+[.]\\d+)/.exec(R);\n    P && (A = parseFloat(P[1])), (P = /Trident\\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(R)) && (A = parseFloat(P[1]));\n  }\n\n  var L = /Edge\\/\\d+/.test(R),\n      H = !!window.CodeMirror;\n  if (!H && E) if (\"function\" == typeof __webpack_require__) try {\n    require.resolve(\"codemirror\"), H = !0;\n  } catch (t) {} else if (\"undefined\" != typeof require) if (void 0 !== require.resolve) try {\n    require.resolve(\"codemirror\"), H = !0;\n  } catch (t) {} else void 0 !== require.specified && (H = require.specified(\"codemirror\"));\n  var D = \"ontouchstart\" in window || 0 < navigator.MaxTouchPoints || 0 < navigator.msMaxTouchPoints,\n      B = F || L ? \"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted\" : \"input\",\n      z = {\n    isMac: -1 < navigator.appVersion.indexOf(\"Mac\"),\n    isMSIE: F,\n    isEdge: L,\n    isFF: !L && /firefox/i.test(R),\n    isPhantom: /PhantomJS/i.test(R),\n    isWebkit: !L && /webkit/i.test(R),\n    isChrome: !L && /chrome/i.test(R),\n    isSafari: !L && /safari/i.test(R),\n    browserVersion: A,\n    jqueryVersion: parseFloat(k.fn.jquery),\n    isSupportAmd: E,\n    isSupportTouch: D,\n    hasCodeMirror: H,\n    isFontInstalled: function isFontInstalled(t) {\n      var e = \"Comic Sans MS\" === t ? \"Courier New\" : \"Comic Sans MS\",\n          o = k(\"<div>\").css({\n        position: \"absolute\",\n        left: \"-9999px\",\n        top: \"-9999px\",\n        fontSize: \"200px\"\n      }).text(\"mmmmmmmmmwwwwwww\").appendTo(document.body),\n          n = o.css(\"fontFamily\", e).width(),\n          i = o.css(\"fontFamily\", t + \",\" + e).width();\n      return o.remove(), n !== i;\n    },\n    isW3CRangeSupport: !!document.createRange,\n    inputEventName: B\n  },\n      M = String.fromCharCode(160);\n\n  function O(t) {\n    return t && k(t).hasClass(\"note-editable\");\n  }\n\n  function U(e) {\n    return e = e.toUpperCase(), function (t) {\n      return t && t.nodeName.toUpperCase() === e;\n    };\n  }\n\n  function j(t) {\n    return t && 3 === t.nodeType;\n  }\n\n  function q(t) {\n    return t && /^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^VIDEO|^EMBED/.test(t.nodeName.toUpperCase());\n  }\n\n  function K(t) {\n    return !O(t) && t && /^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase());\n  }\n\n  var V = U(\"PRE\"),\n      W = U(\"LI\");\n\n  var _ = U(\"TABLE\"),\n      G = U(\"DATA\");\n\n  function Z(t) {\n    return !(tt(t) || Y(t) || Q(t) || K(t) || _(t) || X(t) || G(t));\n  }\n\n  function Y(t) {\n    return t && /^UL|^OL/.test(t.nodeName.toUpperCase());\n  }\n\n  var Q = U(\"HR\");\n\n  function J(t) {\n    return t && /^TD|^TH/.test(t.nodeName.toUpperCase());\n  }\n\n  var X = U(\"BLOCKQUOTE\");\n\n  function tt(t) {\n    return J(t) || X(t) || O(t);\n  }\n\n  var et = U(\"A\");\n  var ot = U(\"BODY\");\n  var nt = z.isMSIE && z.browserVersion < 11 ? \"&nbsp;\" : \"<br>\";\n\n  function it(t) {\n    return j(t) ? t.nodeValue.length : t ? t.childNodes.length : 0;\n  }\n\n  function rt(t) {\n    var e = it(t);\n    return 0 === e || !j(t) && 1 === e && t.innerHTML === nt || !(!N.all(t.childNodes, j) || \"\" !== t.innerHTML);\n  }\n\n  function st(t) {\n    q(t) || it(t) || (t.innerHTML = nt);\n  }\n\n  function at(t, e) {\n    for (; t;) {\n      if (e(t)) return t;\n      if (O(t)) break;\n      t = t.parentNode;\n    }\n\n    return null;\n  }\n\n  function lt(t, e) {\n    e = e || C.fail;\n    var o = [];\n    return at(t, function (t) {\n      return O(t) || o.push(t), e(t);\n    }), o;\n  }\n\n  function ct(t, e) {\n    e = e || C.fail;\n\n    for (var o = []; t && !e(t);) {\n      o.push(t), t = t.nextSibling;\n    }\n\n    return o;\n  }\n\n  function dt(t, e) {\n    var o = e.nextSibling,\n        n = e.parentNode;\n    return o ? n.insertBefore(t, o) : n.appendChild(t), t;\n  }\n\n  function ut(o, t) {\n    return k.each(t, function (t, e) {\n      o.appendChild(e);\n    }), o;\n  }\n\n  function ht(t) {\n    return 0 === t.offset;\n  }\n\n  function pt(t) {\n    return t.offset === it(t.node);\n  }\n\n  function ft(t) {\n    return ht(t) || pt(t);\n  }\n\n  function mt(t, e) {\n    for (; t && t !== e;) {\n      if (0 !== vt(t)) return !1;\n      t = t.parentNode;\n    }\n\n    return !0;\n  }\n\n  function gt(t, e) {\n    if (!e) return !1;\n\n    for (; t && t !== e;) {\n      if (vt(t) !== it(t.parentNode) - 1) return !1;\n      t = t.parentNode;\n    }\n\n    return !0;\n  }\n\n  function vt(t) {\n    for (var e = 0; t = t.previousSibling;) {\n      e += 1;\n    }\n\n    return e;\n  }\n\n  function bt(t) {\n    return !!(t && t.childNodes && t.childNodes.length);\n  }\n\n  function yt(t, e) {\n    var o, n;\n\n    if (0 === t.offset) {\n      if (O(t.node)) return null;\n      o = t.node.parentNode, n = vt(t.node);\n    } else n = bt(t.node) ? it(o = t.node.childNodes[t.offset - 1]) : (o = t.node, e ? 0 : t.offset - 1);\n\n    return {\n      node: o,\n      offset: n\n    };\n  }\n\n  function kt(t, e) {\n    var o, n;\n\n    if (it(t.node) === t.offset) {\n      if (O(t.node)) return null;\n      o = t.node.parentNode, n = vt(t.node) + 1;\n    } else n = bt(t.node) ? (o = t.node.childNodes[t.offset], 0) : (o = t.node, e ? it(t.node) : t.offset + 1);\n\n    return {\n      node: o,\n      offset: n\n    };\n  }\n\n  function Ct(t, e) {\n    return t.node === e.node && t.offset === e.offset;\n  }\n\n  function wt(t, e) {\n    var o = e && e.isSkipPaddingBlankHTML,\n        n = e && e.isNotSplitEdgePoint,\n        i = e && e.isDiscardEmptySplits;\n\n    if (i && (o = !0), ft(t) && (j(t.node) || n)) {\n      if (ht(t)) return t.node;\n      if (pt(t)) return t.node.nextSibling;\n    }\n\n    if (j(t.node)) return t.node.splitText(t.offset);\n    var r = t.node.childNodes[t.offset],\n        s = dt(t.node.cloneNode(!1), t.node);\n    return ut(s, ct(r)), o || (st(t.node), st(s)), i && (rt(t.node) && Tt(t.node), rt(s)) ? (Tt(s), t.node.nextSibling) : s;\n  }\n\n  function xt(t, o, n) {\n    var e = lt(o.node, C.eq(t));\n    return e.length ? 1 === e.length ? wt(o, n) : e.reduce(function (t, e) {\n      return t === o.node && (t = wt(o, n)), wt({\n        node: e,\n        offset: t ? vt(t) : it(e)\n      }, n);\n    }) : null;\n  }\n\n  function St(t) {\n    return document.createElement(t);\n  }\n\n  function Tt(t, e) {\n    if (t && t.parentNode) {\n      if (t.removeNode) return t.removeNode(e);\n      var o = t.parentNode;\n\n      if (!e) {\n        for (var n = [], i = 0, r = t.childNodes.length; i < r; i++) {\n          n.push(t.childNodes[i]);\n        }\n\n        for (i = 0, r = n.length; i < r; i++) {\n          o.insertBefore(n[i], t);\n        }\n      }\n\n      o.removeChild(t);\n    }\n  }\n\n  var It = U(\"TEXTAREA\");\n\n  function $t(t, e) {\n    var o = It(t[0]) ? t.val() : t.html();\n    return e ? o.replace(/[\\n\\r]/g, \"\") : o;\n  }\n\n  var Nt = {\n    NBSP_CHAR: M,\n    ZERO_WIDTH_NBSP_CHAR: \"\\uFEFF\",\n    blank: nt,\n    emptyPara: \"<p>\" + nt + \"</p>\",\n    makePredByNodeName: U,\n    isEditable: O,\n    isControlSizing: function isControlSizing(t) {\n      return t && k(t).hasClass(\"note-control-sizing\");\n    },\n    isText: j,\n    isElement: function isElement(t) {\n      return t && 1 === t.nodeType;\n    },\n    isVoid: q,\n    isPara: K,\n    isPurePara: function isPurePara(t) {\n      return K(t) && !W(t);\n    },\n    isHeading: function isHeading(t) {\n      return t && /^H[1-7]/.test(t.nodeName.toUpperCase());\n    },\n    isInline: Z,\n    isBlock: C.not(Z),\n    isBodyInline: function isBodyInline(t) {\n      return Z(t) && !at(t, K);\n    },\n    isBody: ot,\n    isParaInline: function isParaInline(t) {\n      return Z(t) && !!at(t, K);\n    },\n    isPre: V,\n    isList: Y,\n    isTable: _,\n    isData: G,\n    isCell: J,\n    isBlockquote: X,\n    isBodyContainer: tt,\n    isAnchor: et,\n    isDiv: U(\"DIV\"),\n    isLi: W,\n    isBR: U(\"BR\"),\n    isSpan: U(\"SPAN\"),\n    isB: U(\"B\"),\n    isU: U(\"U\"),\n    isS: U(\"S\"),\n    isI: U(\"I\"),\n    isImg: U(\"IMG\"),\n    isTextarea: It,\n    isEmpty: rt,\n    isEmptyAnchor: C.and(et, rt),\n    isClosestSibling: function isClosestSibling(t, e) {\n      return t.nextSibling === e || t.previousSibling === e;\n    },\n    withClosestSiblings: function withClosestSiblings(t, e) {\n      e = e || C.ok;\n      var o = [];\n      return t.previousSibling && e(t.previousSibling) && o.push(t.previousSibling), o.push(t), t.nextSibling && e(t.nextSibling) && o.push(t.nextSibling), o;\n    },\n    nodeLength: it,\n    isLeftEdgePoint: ht,\n    isRightEdgePoint: pt,\n    isEdgePoint: ft,\n    isLeftEdgeOf: mt,\n    isRightEdgeOf: gt,\n    isLeftEdgePointOf: function isLeftEdgePointOf(t, e) {\n      return ht(t) && mt(t.node, e);\n    },\n    isRightEdgePointOf: function isRightEdgePointOf(t, e) {\n      return pt(t) && gt(t.node, e);\n    },\n    prevPoint: yt,\n    nextPoint: kt,\n    isSamePoint: Ct,\n    isVisiblePoint: function isVisiblePoint(t) {\n      if (j(t.node) || !bt(t.node) || rt(t.node)) return !0;\n      var e = t.node.childNodes[t.offset - 1],\n          o = t.node.childNodes[t.offset];\n      return !(e && !q(e) || o && !q(o));\n    },\n    prevPointUntil: function prevPointUntil(t, e) {\n      for (; t;) {\n        if (e(t)) return t;\n        t = yt(t);\n      }\n\n      return null;\n    },\n    nextPointUntil: function nextPointUntil(t, e) {\n      for (; t;) {\n        if (e(t)) return t;\n        t = kt(t);\n      }\n\n      return null;\n    },\n    isCharPoint: function isCharPoint(t) {\n      if (!j(t.node)) return !1;\n      var e = t.node.nodeValue.charAt(t.offset - 1);\n      return e && \" \" !== e && e !== M;\n    },\n    walkPoint: function walkPoint(t, e, o, n) {\n      for (var i = t; i && (o(i), !Ct(i, e));) {\n        i = kt(i, n && t.node !== i.node && e.node !== i.node);\n      }\n    },\n    ancestor: at,\n    singleChildAncestor: function singleChildAncestor(t, e) {\n      for (t = t.parentNode; t && 1 === it(t);) {\n        if (e(t)) return t;\n        if (O(t)) break;\n        t = t.parentNode;\n      }\n\n      return null;\n    },\n    listAncestor: lt,\n    lastAncestor: function lastAncestor(t, e) {\n      var o = lt(t);\n      return N.last(o.filter(e));\n    },\n    listNext: ct,\n    listPrev: function listPrev(t, e) {\n      e = e || C.fail;\n\n      for (var o = []; t && !e(t);) {\n        o.push(t), t = t.previousSibling;\n      }\n\n      return o;\n    },\n    listDescendant: function listDescendant(i, r) {\n      var s = [];\n      return r = r || C.ok, function t(e) {\n        i !== e && r(e) && s.push(e);\n\n        for (var o = 0, n = e.childNodes.length; o < n; o++) {\n          t(e.childNodes[o]);\n        }\n      }(i), s;\n    },\n    commonAncestor: function commonAncestor(t, e) {\n      for (var o = lt(t), n = e; n; n = n.parentNode) {\n        if (-1 < k.inArray(n, o)) return n;\n      }\n\n      return null;\n    },\n    wrap: function wrap(t, e) {\n      var o = t.parentNode,\n          n = k(\"<\" + e + \">\")[0];\n      return o.insertBefore(n, t), n.appendChild(t), n;\n    },\n    insertAfter: dt,\n    appendChildNodes: ut,\n    position: vt,\n    hasChildren: bt,\n    makeOffsetPath: function makeOffsetPath(t, e) {\n      return lt(e, C.eq(t)).map(vt).reverse();\n    },\n    fromOffsetPath: function fromOffsetPath(t, e) {\n      for (var o = t, n = 0, i = e.length; n < i; n++) {\n        o = o.childNodes.length <= e[n] ? o.childNodes[o.childNodes.length - 1] : o.childNodes[e[n]];\n      }\n\n      return o;\n    },\n    splitTree: xt,\n    splitPoint: function splitPoint(t, e) {\n      var o,\n          n,\n          i = e ? K : tt,\n          r = lt(t.node, i),\n          s = N.last(r) || t.node;\n      n = i(s) ? (o = r[r.length - 2], s) : (o = s).parentNode;\n      var a = o && xt(o, t, {\n        isSkipPaddingBlankHTML: e,\n        isNotSplitEdgePoint: e\n      });\n      return a || n !== t.node || (a = t.node.childNodes[t.offset]), {\n        rightNode: a,\n        container: n\n      };\n    },\n    create: St,\n    createText: function createText(t) {\n      return document.createTextNode(t);\n    },\n    remove: Tt,\n    removeWhile: function removeWhile(t, e) {\n      for (; t && !O(t) && e(t);) {\n        var o = t.parentNode;\n        Tt(t), t = o;\n      }\n    },\n    replace: function replace(t, e) {\n      if (t.nodeName.toUpperCase() === e.toUpperCase()) return t;\n      var o = St(e);\n      return t.style.cssText && (o.style.cssText = t.style.cssText), ut(o, N.from(t.childNodes)), dt(o, t), Tt(t), o;\n    },\n    html: function html(t, e) {\n      var o = $t(t);\n      e && (o = o.replace(/<(\\/?)(\\b(?!!)[^>\\s]*)(.*?)(\\s*\\/?>)/g, function (t, e, o) {\n        o = o.toUpperCase();\n        var n = /^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(o) && !!e,\n            i = /^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(o);\n        return t + (n || i ? \"\\n\" : \"\");\n      }), o = k.trim(o));\n      return o;\n    },\n    value: $t,\n    posFromPlaceholder: function posFromPlaceholder(t) {\n      var e = k(t),\n          o = e.offset(),\n          n = e.outerHeight(!0);\n      return {\n        left: o.left,\n        top: o.top + n\n      };\n    },\n    attachEvents: function attachEvents(e, o) {\n      Object.keys(o).forEach(function (t) {\n        e.on(t, o[t]);\n      });\n    },\n    detachEvents: function detachEvents(e, o) {\n      Object.keys(o).forEach(function (t) {\n        e.off(t, o[t]);\n      });\n    },\n    isCustomStyleTag: function isCustomStyleTag(t) {\n      return t && !j(t) && N.contains(t.classList, \"note-styletag\");\n    }\n  };\n\n  function Et(t, e) {\n    var o,\n        n,\n        i = t.parentElement(),\n        r = document.body.createTextRange(),\n        s = N.from(i.childNodes);\n\n    for (o = 0; o < s.length; o++) {\n      if (!Nt.isText(s[o])) {\n        if (r.moveToElementText(s[o]), 0 <= r.compareEndPoints(\"StartToStart\", t)) break;\n        n = s[o];\n      }\n    }\n\n    if (0 !== o && Nt.isText(s[o - 1])) {\n      var a = document.body.createTextRange(),\n          l = null;\n      a.moveToElementText(n || i), a.collapse(!n), l = n ? n.nextSibling : i.firstChild;\n      var c = t.duplicate();\n      c.setEndPoint(\"StartToStart\", a);\n\n      for (var d = c.text.replace(/[\\r\\n]/g, \"\").length; d > l.nodeValue.length && l.nextSibling;) {\n        d -= l.nodeValue.length, l = l.nextSibling;\n      }\n\n      l.nodeValue;\n      e && l.nextSibling && Nt.isText(l.nextSibling) && d === l.nodeValue.length && (d -= l.nodeValue.length, l = l.nextSibling), i = l, o = d;\n    }\n\n    return {\n      cont: i,\n      offset: o\n    };\n  }\n\n  function At(t) {\n    var s = function s(t, e) {\n      var o, n;\n\n      if (Nt.isText(t)) {\n        var i = Nt.listPrev(t, C.not(Nt.isText)),\n            r = N.last(i).previousSibling;\n        o = r || t.parentNode, e += N.sum(N.tail(i), Nt.nodeLength), n = !r;\n      } else {\n        if (o = t.childNodes[e] || t, Nt.isText(o)) return s(o, 0);\n        e = 0, n = !1;\n      }\n\n      return {\n        node: o,\n        collapseToStart: n,\n        offset: e\n      };\n    },\n        e = document.body.createTextRange(),\n        o = s(t.node, t.offset);\n\n    return e.moveToElementText(o.node), e.collapse(o.collapseToStart), e.moveStart(\"character\", o.offset), e;\n  }\n\n  var Rt = function () {\n    function r(t, e, o, n) {\n      this.sc = t, this.so = e, this.ec = o, this.eo = n, this.isOnEditable = this.makeIsOn(Nt.isEditable), this.isOnList = this.makeIsOn(Nt.isList), this.isOnAnchor = this.makeIsOn(Nt.isAnchor), this.isOnCell = this.makeIsOn(Nt.isCell), this.isOnData = this.makeIsOn(Nt.isData);\n    }\n\n    return r.prototype.nativeRange = function () {\n      if (z.isW3CRangeSupport) {\n        var t = document.createRange();\n        return t.setStart(this.sc, this.so), t.setEnd(this.ec, this.eo), t;\n      }\n\n      var e = At({\n        node: this.sc,\n        offset: this.so\n      });\n      return e.setEndPoint(\"EndToEnd\", At({\n        node: this.ec,\n        offset: this.eo\n      })), e;\n    }, r.prototype.getPoints = function () {\n      return {\n        sc: this.sc,\n        so: this.so,\n        ec: this.ec,\n        eo: this.eo\n      };\n    }, r.prototype.getStartPoint = function () {\n      return {\n        node: this.sc,\n        offset: this.so\n      };\n    }, r.prototype.getEndPoint = function () {\n      return {\n        node: this.ec,\n        offset: this.eo\n      };\n    }, r.prototype.select = function () {\n      var t = this.nativeRange();\n\n      if (z.isW3CRangeSupport) {\n        var e = document.getSelection();\n        0 < e.rangeCount && e.removeAllRanges(), e.addRange(t);\n      } else t.select();\n\n      return this;\n    }, r.prototype.scrollIntoView = function (t) {\n      var e = k(t).height();\n      return t.scrollTop + e < this.sc.offsetTop && (t.scrollTop += Math.abs(t.scrollTop + e - this.sc.offsetTop)), this;\n    }, r.prototype.normalize = function () {\n      var t = function t(_t2, e) {\n        if (Nt.isVisiblePoint(_t2) && !Nt.isEdgePoint(_t2) || Nt.isVisiblePoint(_t2) && Nt.isRightEdgePoint(_t2) && !e || Nt.isVisiblePoint(_t2) && Nt.isLeftEdgePoint(_t2) && e || Nt.isVisiblePoint(_t2) && Nt.isBlock(_t2.node) && Nt.isEmpty(_t2.node)) return _t2;\n        var o = Nt.ancestor(_t2.node, Nt.isBlock);\n\n        if ((Nt.isLeftEdgePointOf(_t2, o) || Nt.isVoid(Nt.prevPoint(_t2).node)) && !e || (Nt.isRightEdgePointOf(_t2, o) || Nt.isVoid(Nt.nextPoint(_t2).node)) && e) {\n          if (Nt.isVisiblePoint(_t2)) return _t2;\n          e = !e;\n        }\n\n        return (e ? Nt.nextPointUntil(Nt.nextPoint(_t2), Nt.isVisiblePoint) : Nt.prevPointUntil(Nt.prevPoint(_t2), Nt.isVisiblePoint)) || _t2;\n      },\n          e = t(this.getEndPoint(), !1),\n          o = this.isCollapsed() ? e : t(this.getStartPoint(), !0);\n\n      return new r(o.node, o.offset, e.node, e.offset);\n    }, r.prototype.nodes = function (o, t) {\n      o = o || C.ok;\n      var n = t && t.includeAncestor,\n          i = t && t.fullyContains,\n          e = this.getStartPoint(),\n          r = this.getEndPoint(),\n          s = [],\n          a = [];\n      return Nt.walkPoint(e, r, function (t) {\n        var e;\n        Nt.isEditable(t.node) || (i ? (Nt.isLeftEdgePoint(t) && a.push(t.node), Nt.isRightEdgePoint(t) && N.contains(a, t.node) && (e = t.node)) : e = n ? Nt.ancestor(t.node, o) : t.node, e && o(e) && s.push(e));\n      }, !0), N.unique(s);\n    }, r.prototype.commonAncestor = function () {\n      return Nt.commonAncestor(this.sc, this.ec);\n    }, r.prototype.expand = function (t) {\n      var e = Nt.ancestor(this.sc, t),\n          o = Nt.ancestor(this.ec, t);\n      if (!e && !o) return new r(this.sc, this.so, this.ec, this.eo);\n      var n = this.getPoints();\n      return e && (n.sc = e, n.so = 0), o && (n.ec = o, n.eo = Nt.nodeLength(o)), new r(n.sc, n.so, n.ec, n.eo);\n    }, r.prototype.collapse = function (t) {\n      return t ? new r(this.sc, this.so, this.sc, this.so) : new r(this.ec, this.eo, this.ec, this.eo);\n    }, r.prototype.splitText = function () {\n      var t = this.sc === this.ec,\n          e = this.getPoints();\n      return Nt.isText(this.ec) && !Nt.isEdgePoint(this.getEndPoint()) && this.ec.splitText(this.eo), Nt.isText(this.sc) && !Nt.isEdgePoint(this.getStartPoint()) && (e.sc = this.sc.splitText(this.so), e.so = 0, t && (e.ec = e.sc, e.eo = this.eo - this.so)), new r(e.sc, e.so, e.ec, e.eo);\n    }, r.prototype.deleteContents = function () {\n      if (this.isCollapsed()) return this;\n      var t = this.splitText(),\n          e = t.nodes(null, {\n        fullyContains: !0\n      }),\n          n = Nt.prevPointUntil(t.getStartPoint(), function (t) {\n        return !N.contains(e, t.node);\n      }),\n          i = [];\n      return k.each(e, function (t, e) {\n        var o = e.parentNode;\n        n.node !== o && 1 === Nt.nodeLength(o) && i.push(o), Nt.remove(e, !1);\n      }), k.each(i, function (t, e) {\n        Nt.remove(e, !1);\n      }), new r(n.node, n.offset, n.node, n.offset).normalize();\n    }, r.prototype.makeIsOn = function (e) {\n      return function () {\n        var t = Nt.ancestor(this.sc, e);\n        return !!t && t === Nt.ancestor(this.ec, e);\n      };\n    }, r.prototype.isLeftEdgeOf = function (t) {\n      if (!Nt.isLeftEdgePoint(this.getStartPoint())) return !1;\n      var e = Nt.ancestor(this.sc, t);\n      return e && Nt.isLeftEdgeOf(this.sc, e);\n    }, r.prototype.isCollapsed = function () {\n      return this.sc === this.ec && this.so === this.eo;\n    }, r.prototype.wrapBodyInlineWithPara = function () {\n      if (Nt.isBodyContainer(this.sc) && Nt.isEmpty(this.sc)) return this.sc.innerHTML = Nt.emptyPara, new r(this.sc.firstChild, 0, this.sc.firstChild, 0);\n      var t,\n          e = this.normalize();\n      if (Nt.isParaInline(this.sc) || Nt.isPara(this.sc)) return e;\n\n      if (Nt.isInline(e.sc)) {\n        var o = Nt.listAncestor(e.sc, C.not(Nt.isInline));\n        t = N.last(o), Nt.isInline(t) || (t = o[o.length - 2] || e.sc.childNodes[e.so]);\n      } else t = e.sc.childNodes[0 < e.so ? e.so - 1 : 0];\n\n      var n = Nt.listPrev(t, Nt.isParaInline).reverse();\n\n      if ((n = n.concat(Nt.listNext(t.nextSibling, Nt.isParaInline))).length) {\n        var i = Nt.wrap(N.head(n), \"p\");\n        Nt.appendChildNodes(i, N.tail(n));\n      }\n\n      return this.normalize();\n    }, r.prototype.insertNode = function (t) {\n      var e = this.wrapBodyInlineWithPara().deleteContents(),\n          o = Nt.splitPoint(e.getStartPoint(), Nt.isInline(t));\n      return o.rightNode ? o.rightNode.parentNode.insertBefore(t, o.rightNode) : o.container.appendChild(t), t;\n    }, r.prototype.pasteHTML = function (t) {\n      var e = k(\"<div></div>\").html(t)[0],\n          o = N.from(e.childNodes),\n          n = this.wrapBodyInlineWithPara().deleteContents();\n      return 0 < n.so && (o = o.reverse()), o = o.map(function (t) {\n        return n.insertNode(t);\n      }), 0 < n.so && (o = o.reverse()), o;\n    }, r.prototype.toString = function () {\n      var t = this.nativeRange();\n      return z.isW3CRangeSupport ? t.toString() : t.text;\n    }, r.prototype.getWordRange = function (t) {\n      var e = this.getEndPoint();\n      if (!Nt.isCharPoint(e)) return this;\n      var o = Nt.prevPointUntil(e, function (t) {\n        return !Nt.isCharPoint(t);\n      });\n      return t && (e = Nt.nextPointUntil(e, function (t) {\n        return !Nt.isCharPoint(t);\n      })), new r(o.node, o.offset, e.node, e.offset);\n    }, r.prototype.bookmark = function (t) {\n      return {\n        s: {\n          path: Nt.makeOffsetPath(t, this.sc),\n          offset: this.so\n        },\n        e: {\n          path: Nt.makeOffsetPath(t, this.ec),\n          offset: this.eo\n        }\n      };\n    }, r.prototype.paraBookmark = function (t) {\n      return {\n        s: {\n          path: N.tail(Nt.makeOffsetPath(N.head(t), this.sc)),\n          offset: this.so\n        },\n        e: {\n          path: N.tail(Nt.makeOffsetPath(N.last(t), this.ec)),\n          offset: this.eo\n        }\n      };\n    }, r.prototype.getClientRects = function () {\n      return this.nativeRange().getClientRects();\n    }, r;\n  }(),\n      Ft = {\n    create: function create(t, e, o, n) {\n      if (4 === arguments.length) return new Rt(t, e, o, n);\n      if (2 === arguments.length) return new Rt(o = t, n = e, o, n);\n      var i = this.createFromSelection();\n      return i || 1 !== arguments.length ? i : (i = this.createFromNode(t)).collapse(Nt.emptyPara === t.innerHTML);\n    },\n    createFromSelection: function createFromSelection() {\n      var t, e, o, n;\n\n      if (z.isW3CRangeSupport) {\n        var i = document.getSelection();\n        if (!i || 0 === i.rangeCount) return null;\n        if (Nt.isBody(i.anchorNode)) return null;\n        var r = i.getRangeAt(0);\n        t = r.startContainer, e = r.startOffset, o = r.endContainer, n = r.endOffset;\n      } else {\n        var s = document.selection.createRange(),\n            a = s.duplicate();\n        a.collapse(!1);\n        var l = s;\n        l.collapse(!0);\n        var c = Et(l, !0),\n            d = Et(a, !1);\n        Nt.isText(c.node) && Nt.isLeftEdgePoint(c) && Nt.isTextNode(d.node) && Nt.isRightEdgePoint(d) && d.node.nextSibling === c.node && (c = d), t = c.cont, e = c.offset, o = d.cont, n = d.offset;\n      }\n\n      return new Rt(t, e, o, n);\n    },\n    createFromNode: function createFromNode(t) {\n      var e = t,\n          o = 0,\n          n = t,\n          i = Nt.nodeLength(n);\n      return Nt.isVoid(e) && (o = Nt.listPrev(e).length - 1, e = e.parentNode), Nt.isBR(n) ? (i = Nt.listPrev(n).length - 1, n = n.parentNode) : Nt.isVoid(n) && (i = Nt.listPrev(n).length, n = n.parentNode), this.create(e, o, n, i);\n    },\n    createFromNodeBefore: function createFromNodeBefore(t) {\n      return this.createFromNode(t).collapse(!0);\n    },\n    createFromNodeAfter: function createFromNodeAfter(t) {\n      return this.createFromNode(t).collapse();\n    },\n    createFromBookmark: function createFromBookmark(t, e) {\n      var o = Nt.fromOffsetPath(t, e.s.path),\n          n = e.s.offset,\n          i = Nt.fromOffsetPath(t, e.e.path),\n          r = e.e.offset;\n      return new Rt(o, n, i, r);\n    },\n    createFromParaBookmark: function createFromParaBookmark(t, e) {\n      var o = t.s.offset,\n          n = t.e.offset,\n          i = Nt.fromOffsetPath(N.head(e), t.s.path),\n          r = Nt.fromOffsetPath(N.last(e), t.e.path);\n      return new Rt(i, o, r, n);\n    }\n  };\n\n  k.summernote = k.summernote || {\n    lang: {}\n  }, k.extend(k.summernote.lang, {\n    \"en-US\": {\n      font: {\n        bold: \"Bold\",\n        italic: \"Italic\",\n        underline: \"Underline\",\n        clear: \"Remove Font Style\",\n        height: \"Line Height\",\n        name: \"Font Family\",\n        strikethrough: \"Strikethrough\",\n        subscript: \"Subscript\",\n        superscript: \"Superscript\",\n        size: \"Font Size\"\n      },\n      image: {\n        image: \"Picture\",\n        insert: \"Insert Image\",\n        resizeFull: \"Resize Full\",\n        resizeHalf: \"Resize Half\",\n        resizeQuarter: \"Resize Quarter\",\n        floatLeft: \"Float Left\",\n        floatRight: \"Float Right\",\n        floatNone: \"Float None\",\n        shapeRounded: \"Shape: Rounded\",\n        shapeCircle: \"Shape: Circle\",\n        shapeThumbnail: \"Shape: Thumbnail\",\n        shapeNone: \"Shape: None\",\n        dragImageHere: \"Drag image or text here\",\n        dropImage: \"Drop image or Text\",\n        selectFromFiles: \"Select from files\",\n        maximumFileSize: \"Maximum file size\",\n        maximumFileSizeError: \"Maximum file size exceeded.\",\n        url: \"Image URL\",\n        remove: \"Remove Image\",\n        original: \"Original\"\n      },\n      video: {\n        video: \"Video\",\n        videoLink: \"Video Link\",\n        insert: \"Insert Video\",\n        url: \"Video URL\",\n        providers: \"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)\"\n      },\n      link: {\n        link: \"Link\",\n        insert: \"Insert Link\",\n        unlink: \"Unlink\",\n        edit: \"Edit\",\n        textToDisplay: \"Text to display\",\n        url: \"To what URL should this link go?\",\n        openInNewWindow: \"Open in new window\"\n      },\n      table: {\n        table: \"Table\",\n        addRowAbove: \"Add row above\",\n        addRowBelow: \"Add row below\",\n        addColLeft: \"Add column left\",\n        addColRight: \"Add column right\",\n        delRow: \"Delete row\",\n        delCol: \"Delete column\",\n        delTable: \"Delete table\"\n      },\n      hr: {\n        insert: \"Insert Horizontal Rule\"\n      },\n      style: {\n        style: \"Style\",\n        p: \"Normal\",\n        blockquote: \"Quote\",\n        pre: \"Code\",\n        h1: \"Header 1\",\n        h2: \"Header 2\",\n        h3: \"Header 3\",\n        h4: \"Header 4\",\n        h5: \"Header 5\",\n        h6: \"Header 6\"\n      },\n      lists: {\n        unordered: \"Unordered list\",\n        ordered: \"Ordered list\"\n      },\n      options: {\n        help: \"Help\",\n        fullscreen: \"Full Screen\",\n        codeview: \"Code View\"\n      },\n      paragraph: {\n        paragraph: \"Paragraph\",\n        outdent: \"Outdent\",\n        indent: \"Indent\",\n        left: \"Align left\",\n        center: \"Align center\",\n        right: \"Align right\",\n        justify: \"Justify full\"\n      },\n      color: {\n        recent: \"Recent Color\",\n        more: \"More Color\",\n        background: \"Background Color\",\n        foreground: \"Foreground Color\",\n        transparent: \"Transparent\",\n        setTransparent: \"Set transparent\",\n        reset: \"Reset\",\n        resetToDefault: \"Reset to default\",\n        cpSelect: \"Select\"\n      },\n      shortcut: {\n        shortcuts: \"Keyboard shortcuts\",\n        close: \"Close\",\n        textFormatting: \"Text formatting\",\n        action: \"Action\",\n        paragraphFormatting: \"Paragraph formatting\",\n        documentStyle: \"Document Style\",\n        extraKeys: \"Extra keys\"\n      },\n      help: {\n        insertParagraph: \"Insert Paragraph\",\n        undo: \"Undoes the last command\",\n        redo: \"Redoes the last command\",\n        tab: \"Tab\",\n        untab: \"Untab\",\n        bold: \"Set a bold style\",\n        italic: \"Set a italic style\",\n        underline: \"Set a underline style\",\n        strikethrough: \"Set a strikethrough style\",\n        removeFormat: \"Clean a style\",\n        justifyLeft: \"Set left align\",\n        justifyCenter: \"Set center align\",\n        justifyRight: \"Set right align\",\n        justifyFull: \"Set full align\",\n        insertUnorderedList: \"Toggle unordered list\",\n        insertOrderedList: \"Toggle ordered list\",\n        outdent: \"Outdent on current paragraph\",\n        indent: \"Indent on current paragraph\",\n        formatPara: \"Change current block's format as a paragraph(P tag)\",\n        formatH1: \"Change current block's format as H1\",\n        formatH2: \"Change current block's format as H2\",\n        formatH3: \"Change current block's format as H3\",\n        formatH4: \"Change current block's format as H4\",\n        formatH5: \"Change current block's format as H5\",\n        formatH6: \"Change current block's format as H6\",\n        insertHorizontalRule: \"Insert horizontal rule\",\n        \"linkDialog.show\": \"Show Link Dialog\"\n      },\n      history: {\n        undo: \"Undo\",\n        redo: \"Redo\"\n      },\n      specialChar: {\n        specialChar: \"SPECIAL CHARACTERS\",\n        select: \"Select Special characters\"\n      }\n    }\n  });\n  var Pt = {\n    BACKSPACE: 8,\n    TAB: 9,\n    ENTER: 13,\n    SPACE: 32,\n    DELETE: 46,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n    NUM0: 48,\n    NUM1: 49,\n    NUM2: 50,\n    NUM3: 51,\n    NUM4: 52,\n    NUM5: 53,\n    NUM6: 54,\n    NUM7: 55,\n    NUM8: 56,\n    B: 66,\n    E: 69,\n    I: 73,\n    J: 74,\n    K: 75,\n    L: 76,\n    R: 82,\n    S: 83,\n    U: 85,\n    V: 86,\n    Y: 89,\n    Z: 90,\n    SLASH: 191,\n    LEFTBRACKET: 219,\n    BACKSLASH: 220,\n    RIGHTBRACKET: 221\n  },\n      Lt = {\n    isEdit: function isEdit(t) {\n      return N.contains([Pt.BACKSPACE, Pt.TAB, Pt.ENTER, Pt.SPACE, Pt.DELETE], t);\n    },\n    isMove: function isMove(t) {\n      return N.contains([Pt.LEFT, Pt.UP, Pt.RIGHT, Pt.DOWN], t);\n    },\n    nameFromCode: C.invertObject(Pt),\n    code: Pt\n  };\n\n  var Ht = function () {\n    function t(t) {\n      this.stack = [], this.stackOffset = -1, this.$editable = t, this.editable = t[0];\n    }\n\n    return t.prototype.makeSnapshot = function () {\n      var t = Ft.create(this.editable);\n      return {\n        contents: this.$editable.html(),\n        bookmark: t ? t.bookmark(this.editable) : {\n          s: {\n            path: [],\n            offset: 0\n          },\n          e: {\n            path: [],\n            offset: 0\n          }\n        }\n      };\n    }, t.prototype.applySnapshot = function (t) {\n      null !== t.contents && this.$editable.html(t.contents), null !== t.bookmark && Ft.createFromBookmark(this.editable, t.bookmark).select();\n    }, t.prototype.rewind = function () {\n      this.$editable.html() !== this.stack[this.stackOffset].contents && this.recordUndo(), this.stackOffset = 0, this.applySnapshot(this.stack[this.stackOffset]);\n    }, t.prototype.commit = function () {\n      this.stack = [], this.stackOffset = -1, this.recordUndo();\n    }, t.prototype.reset = function () {\n      this.stack = [], this.stackOffset = -1, this.$editable.html(\"\"), this.recordUndo();\n    }, t.prototype.undo = function () {\n      this.$editable.html() !== this.stack[this.stackOffset].contents && this.recordUndo(), 0 < this.stackOffset && (this.stackOffset--, this.applySnapshot(this.stack[this.stackOffset]));\n    }, t.prototype.redo = function () {\n      this.stack.length - 1 > this.stackOffset && (this.stackOffset++, this.applySnapshot(this.stack[this.stackOffset]));\n    }, t.prototype.recordUndo = function () {\n      this.stackOffset++, this.stack.length > this.stackOffset && (this.stack = this.stack.slice(0, this.stackOffset)), this.stack.push(this.makeSnapshot());\n    }, t;\n  }(),\n      Dt = function () {\n    function t() {}\n\n    return t.prototype.jQueryCSS = function (o, t) {\n      if (z.jqueryVersion < 1.9) {\n        var n = {};\n        return k.each(t, function (t, e) {\n          n[e] = o.css(e);\n        }), n;\n      }\n\n      return o.css(t);\n    }, t.prototype.fromNode = function (t) {\n      var e = this.jQueryCSS(t, [\"font-family\", \"font-size\", \"text-align\", \"list-style-type\", \"line-height\"]) || {};\n      return e[\"font-size\"] = parseInt(e[\"font-size\"], 10), e;\n    }, t.prototype.stylePara = function (t, o) {\n      k.each(t.nodes(Nt.isPara, {\n        includeAncestor: !0\n      }), function (t, e) {\n        k(e).css(o);\n      });\n    }, t.prototype.styleNodes = function (t, e) {\n      t = t.splitText();\n      var o = e && e.nodeName || \"SPAN\",\n          n = !(!e || !e.expandClosestSibling),\n          i = !(!e || !e.onlyPartialContains);\n      if (t.isCollapsed()) return [t.insertNode(Nt.create(o))];\n      var r = Nt.makePredByNodeName(o),\n          s = t.nodes(Nt.isText, {\n        fullyContains: !0\n      }).map(function (t) {\n        return Nt.singleChildAncestor(t, r) || Nt.wrap(t, o);\n      });\n\n      if (n) {\n        if (i) {\n          var a = t.nodes();\n          r = C.and(r, function (t) {\n            return N.contains(a, t);\n          });\n        }\n\n        return s.map(function (t) {\n          var e = Nt.withClosestSiblings(t, r),\n              o = N.head(e),\n              n = N.tail(e);\n          return k.each(n, function (t, e) {\n            Nt.appendChildNodes(o, e.childNodes), Nt.remove(e);\n          }), N.head(e);\n        });\n      }\n\n      return s;\n    }, t.prototype.current = function (t) {\n      var e = k(Nt.isElement(t.sc) ? t.sc : t.sc.parentNode),\n          o = this.fromNode(e);\n\n      try {\n        o = k.extend(o, {\n          \"font-bold\": document.queryCommandState(\"bold\") ? \"bold\" : \"normal\",\n          \"font-italic\": document.queryCommandState(\"italic\") ? \"italic\" : \"normal\",\n          \"font-underline\": document.queryCommandState(\"underline\") ? \"underline\" : \"normal\",\n          \"font-subscript\": document.queryCommandState(\"subscript\") ? \"subscript\" : \"normal\",\n          \"font-superscript\": document.queryCommandState(\"superscript\") ? \"superscript\" : \"normal\",\n          \"font-strikethrough\": document.queryCommandState(\"strikethrough\") ? \"strikethrough\" : \"normal\",\n          \"font-family\": document.queryCommandValue(\"fontname\") || o[\"font-family\"]\n        });\n      } catch (t) {}\n\n      if (t.isOnList()) {\n        var n = -1 < k.inArray(o[\"list-style-type\"], [\"circle\", \"disc\", \"disc-leading-zero\", \"square\"]);\n        o[\"list-style\"] = n ? \"unordered\" : \"ordered\";\n      } else o[\"list-style\"] = \"none\";\n\n      var i = Nt.ancestor(t.sc, Nt.isPara);\n      if (i && i.style[\"line-height\"]) o[\"line-height\"] = i.style.lineHeight;else {\n        var r = parseInt(o[\"line-height\"], 10) / parseInt(o[\"font-size\"], 10);\n        o[\"line-height\"] = r.toFixed(1);\n      }\n      return o.anchor = t.isOnAnchor() && Nt.ancestor(t.sc, Nt.isAnchor), o.ancestors = Nt.listAncestor(t.sc, Nt.isEditable), o.range = t, o;\n    }, t;\n  }(),\n      Bt = function () {\n    function t() {}\n\n    return t.prototype.insertOrderedList = function (t) {\n      this.toggleList(\"OL\", t);\n    }, t.prototype.insertUnorderedList = function (t) {\n      this.toggleList(\"UL\", t);\n    }, t.prototype.indent = function (t) {\n      var i = this,\n          e = Ft.create(t).wrapBodyInlineWithPara(),\n          o = e.nodes(Nt.isPara, {\n        includeAncestor: !0\n      }),\n          n = N.clusterBy(o, C.peq2(\"parentNode\"));\n      k.each(n, function (t, e) {\n        var o = N.head(e);\n\n        if (Nt.isLi(o)) {\n          var n = i.findList(o.previousSibling);\n          n ? e.map(function (t) {\n            return n.appendChild(t);\n          }) : (i.wrapList(e, o.parentNode.nodeName), e.map(function (t) {\n            return t.parentNode;\n          }).map(function (t) {\n            return i.appendToPrevious(t);\n          }));\n        } else k.each(e, function (t, e) {\n          k(e).css(\"marginLeft\", function (t, e) {\n            return (parseInt(e, 10) || 0) + 25;\n          });\n        });\n      }), e.select();\n    }, t.prototype.outdent = function (t) {\n      var n = this,\n          e = Ft.create(t).wrapBodyInlineWithPara(),\n          o = e.nodes(Nt.isPara, {\n        includeAncestor: !0\n      }),\n          i = N.clusterBy(o, C.peq2(\"parentNode\"));\n      k.each(i, function (t, e) {\n        var o = N.head(e);\n        Nt.isLi(o) ? n.releaseList([e]) : k.each(e, function (t, e) {\n          k(e).css(\"marginLeft\", function (t, e) {\n            return 25 < (e = parseInt(e, 10) || 0) ? e - 25 : \"\";\n          });\n        });\n      }), e.select();\n    }, t.prototype.toggleList = function (o, t) {\n      var n = this,\n          e = Ft.create(t).wrapBodyInlineWithPara(),\n          i = e.nodes(Nt.isPara, {\n        includeAncestor: !0\n      }),\n          r = e.paraBookmark(i),\n          s = N.clusterBy(i, C.peq2(\"parentNode\"));\n\n      if (N.find(i, Nt.isPurePara)) {\n        var a = [];\n        k.each(s, function (t, e) {\n          a = a.concat(n.wrapList(e, o));\n        }), i = a;\n      } else {\n        var l = e.nodes(Nt.isList, {\n          includeAncestor: !0\n        }).filter(function (t) {\n          return !k.nodeName(t, o);\n        });\n        l.length ? k.each(l, function (t, e) {\n          Nt.replace(e, o);\n        }) : i = this.releaseList(s, !0);\n      }\n\n      Ft.createFromParaBookmark(r, i).select();\n    }, t.prototype.wrapList = function (t, e) {\n      var o = N.head(t),\n          n = N.last(t),\n          i = Nt.isList(o.previousSibling) && o.previousSibling,\n          r = Nt.isList(n.nextSibling) && n.nextSibling,\n          s = i || Nt.insertAfter(Nt.create(e || \"UL\"), n);\n      return t = t.map(function (t) {\n        return Nt.isPurePara(t) ? Nt.replace(t, \"LI\") : t;\n      }), Nt.appendChildNodes(s, t), r && (Nt.appendChildNodes(s, N.from(r.childNodes)), Nt.remove(r)), t;\n    }, t.prototype.releaseList = function (t, c) {\n      var d = this,\n          u = [];\n      return k.each(t, function (t, e) {\n        var o = N.head(e),\n            n = N.last(e),\n            i = c ? Nt.lastAncestor(o, Nt.isList) : o.parentNode,\n            r = i.parentNode;\n        if (\"LI\" === i.parentNode.nodeName) e.map(function (t) {\n          var e = d.findNextSiblings(t);\n          r.nextSibling ? r.parentNode.insertBefore(t, r.nextSibling) : r.parentNode.appendChild(t), e.length && (d.wrapList(e, i.nodeName), t.appendChild(e[0].parentNode));\n        }), 0 === i.children.length && r.removeChild(i), 0 === r.childNodes.length && r.parentNode.removeChild(r);else {\n          var s = 1 < i.childNodes.length ? Nt.splitTree(i, {\n            node: n.parentNode,\n            offset: Nt.position(n) + 1\n          }, {\n            isSkipPaddingBlankHTML: !0\n          }) : null,\n              a = Nt.splitTree(i, {\n            node: o.parentNode,\n            offset: Nt.position(o)\n          }, {\n            isSkipPaddingBlankHTML: !0\n          });\n          e = c ? Nt.listDescendant(a, Nt.isLi) : N.from(a.childNodes).filter(Nt.isLi), !c && Nt.isList(i.parentNode) || (e = e.map(function (t) {\n            return Nt.replace(t, \"P\");\n          })), k.each(N.from(e).reverse(), function (t, e) {\n            Nt.insertAfter(e, i);\n          });\n          var l = N.compact([i, a, s]);\n          k.each(l, function (t, e) {\n            var o = [e].concat(Nt.listDescendant(e, Nt.isList));\n            k.each(o.reverse(), function (t, e) {\n              Nt.nodeLength(e) || Nt.remove(e, !0);\n            });\n          });\n        }\n        u = u.concat(e);\n      }), u;\n    }, t.prototype.appendToPrevious = function (t) {\n      return t.previousSibling ? Nt.appendChildNodes(t.previousSibling, [t]) : this.wrapList([t], \"LI\");\n    }, t.prototype.findList = function (t) {\n      return t ? N.find(t.children, function (t) {\n        return -1 < [\"OL\", \"UL\"].indexOf(t.nodeName);\n      }) : null;\n    }, t.prototype.findNextSiblings = function (t) {\n      for (var e = []; t.nextSibling;) {\n        e.push(t.nextSibling), t = t.nextSibling;\n      }\n\n      return e;\n    }, t;\n  }(),\n      zt = function () {\n    function t(t) {\n      this.bullet = new Bt(), this.options = t.options;\n    }\n\n    return t.prototype.insertTab = function (t, e) {\n      var o = Nt.createText(new Array(e + 1).join(Nt.NBSP_CHAR));\n      (t = t.deleteContents()).insertNode(o, !0), (t = Ft.create(o, e)).select();\n    }, t.prototype.insertParagraph = function (t, e) {\n      e = (e = (e = e || Ft.create(t)).deleteContents()).wrapBodyInlineWithPara();\n      var o,\n          n = Nt.ancestor(e.sc, Nt.isPara);\n\n      if (n) {\n        if (Nt.isEmpty(n) && Nt.isLi(n)) return void this.bullet.toggleList(n.parentNode.nodeName);\n        var i = null;\n\n        if (1 === this.options.blockquoteBreakingLevel ? i = Nt.ancestor(n, Nt.isBlockquote) : 2 === this.options.blockquoteBreakingLevel && (i = Nt.lastAncestor(n, Nt.isBlockquote)), i) {\n          o = k(Nt.emptyPara)[0], Nt.isRightEdgePoint(e.getStartPoint()) && Nt.isBR(e.sc.nextSibling) && k(e.sc.nextSibling).remove();\n          var r = Nt.splitTree(i, e.getStartPoint(), {\n            isDiscardEmptySplits: !0\n          });\n          r ? r.parentNode.insertBefore(o, r) : Nt.insertAfter(o, i);\n        } else {\n          o = Nt.splitTree(n, e.getStartPoint());\n          var s = Nt.listDescendant(n, Nt.isEmptyAnchor);\n          s = s.concat(Nt.listDescendant(o, Nt.isEmptyAnchor)), k.each(s, function (t, e) {\n            Nt.remove(e);\n          }), (Nt.isHeading(o) || Nt.isPre(o) || Nt.isCustomStyleTag(o)) && Nt.isEmpty(o) && (o = Nt.replace(o, \"p\"));\n        }\n      } else {\n        var a = e.sc.childNodes[e.so];\n        o = k(Nt.emptyPara)[0], a ? e.sc.insertBefore(o, a) : e.sc.appendChild(o);\n      }\n\n      Ft.create(o, 0).normalize().select().scrollIntoView(t);\n    }, t;\n  }(),\n      Mt = function Mt(t, h, p, i) {\n    var f = {\n      colPos: 0,\n      rowPos: 0\n    },\n        m = [],\n        g = [];\n\n    function v(t, e, o, n, i, r, s) {\n      var a = {\n        baseRow: o,\n        baseCell: n,\n        isRowSpan: i,\n        isColSpan: r,\n        isVirtual: s\n      };\n      m[t] || (m[t] = []), m[t][e] = a;\n    }\n\n    function b(t, e) {\n      if (!m[t]) return e;\n      if (!m[t][e]) return e;\n\n      for (var o = e; m[t][o];) {\n        if (o++, !m[t][o]) return o;\n      }\n    }\n\n    function r(t, e) {\n      var o = b(t.rowIndex, e.cellIndex),\n          n = 1 < e.colSpan,\n          i = 1 < e.rowSpan,\n          r = t.rowIndex === f.rowPos && e.cellIndex === f.colPos;\n      v(t.rowIndex, o, t, e, i, n, !1);\n      var s = e.attributes.rowSpan ? parseInt(e.attributes.rowSpan.value, 10) : 0;\n      if (1 < s) for (var a = 1; a < s; a++) {\n        var l = t.rowIndex + a;\n        y(l, o, e, r), v(l, o, t, e, !0, n, !0);\n      }\n      var c = e.attributes.colSpan ? parseInt(e.attributes.colSpan.value, 10) : 0;\n      if (1 < c) for (var d = 1; d < c; d++) {\n        var u = b(t.rowIndex, o + d);\n        y(t.rowIndex, u, e, r), v(t.rowIndex, u, t, e, i, !0, !0);\n      }\n    }\n\n    function y(t, e, o, n) {\n      t === f.rowPos && f.colPos >= o.cellIndex && o.cellIndex <= e && !n && f.colPos++;\n    }\n\n    function k(t) {\n      switch (h) {\n        case Mt.where.Column:\n          if (t.isColSpan) return Mt.resultAction.SubtractSpanCount;\n          break;\n\n        case Mt.where.Row:\n          if (!t.isVirtual && t.isRowSpan) return Mt.resultAction.AddCell;\n          if (t.isRowSpan) return Mt.resultAction.SubtractSpanCount;\n      }\n\n      return Mt.resultAction.RemoveCell;\n    }\n\n    function C(t) {\n      switch (h) {\n        case Mt.where.Column:\n          if (t.isColSpan) return Mt.resultAction.SumSpanCount;\n          if (t.isRowSpan && t.isVirtual) return Mt.resultAction.Ignore;\n          break;\n\n        case Mt.where.Row:\n          if (t.isRowSpan) return Mt.resultAction.SumSpanCount;\n          if (t.isColSpan && t.isVirtual) return Mt.resultAction.Ignore;\n      }\n\n      return Mt.resultAction.AddCell;\n    }\n\n    this.getActionList = function () {\n      for (var t, e, o, n = h === Mt.where.Row ? f.rowPos : -1, i = h === Mt.where.Column ? f.colPos : -1, r = 0, s = !0; s;) {\n        var a = 0 <= n ? n : r,\n            l = 0 <= i ? i : r,\n            c = m[a];\n        if (!c) return s = !1, g;\n        var d = c[l];\n        if (!d) return s = !1, g;\n        var u = Mt.resultAction.Ignore;\n\n        switch (p) {\n          case Mt.requestAction.Add:\n            u = C(d);\n            break;\n\n          case Mt.requestAction.Delete:\n            u = k(d);\n        }\n\n        g.push((t = u, e = a, o = l, {\n          baseCell: d.baseCell,\n          action: t,\n          virtualTable: {\n            rowIndex: e,\n            cellIndex: o\n          }\n        })), r++;\n      }\n\n      return g;\n    }, t && t.tagName && (\"td\" === t.tagName.toLowerCase() || \"th\" === t.tagName.toLowerCase()) ? (f.colPos = t.cellIndex, t.parentElement && t.parentElement.tagName && \"tr\" === t.parentElement.tagName.toLowerCase() ? f.rowPos = t.parentElement.rowIndex : console.error(\"Impossible to identify start Row point.\", t)) : console.error(\"Impossible to identify start Cell point.\", t), function () {\n      for (var t = i.rows, e = 0; e < t.length; e++) {\n        for (var o = t[e].cells, n = 0; n < o.length; n++) {\n          r(t[e], o[n]);\n        }\n      }\n    }();\n  };\n\n  Mt.where = {\n    Row: 0,\n    Column: 1\n  }, Mt.requestAction = {\n    Add: 0,\n    Delete: 1\n  }, Mt.resultAction = {\n    Ignore: 0,\n    SubtractSpanCount: 1,\n    RemoveCell: 2,\n    AddCell: 3,\n    SumSpanCount: 4\n  };\n\n  var Ot,\n      Ut = function () {\n    function t() {}\n\n    return t.prototype.tab = function (t, e) {\n      var o = Nt.ancestor(t.commonAncestor(), Nt.isCell),\n          n = Nt.ancestor(o, Nt.isTable),\n          i = Nt.listDescendant(n, Nt.isCell),\n          r = N[e ? \"prev\" : \"next\"](i, o);\n      r && Ft.create(r, 0).select();\n    }, t.prototype.addRow = function (t, e) {\n      for (var o = Nt.ancestor(t.commonAncestor(), Nt.isCell), n = k(o).closest(\"tr\"), i = this.recoverAttributes(n), r = k(\"<tr\" + i + \"></tr>\"), s = new Mt(o, Mt.where.Row, Mt.requestAction.Add, k(n).closest(\"table\")[0]).getActionList(), a = 0; a < s.length; a++) {\n        var l = s[a],\n            c = this.recoverAttributes(l.baseCell);\n\n        switch (l.action) {\n          case Mt.resultAction.AddCell:\n            r.append(\"<td\" + c + \">\" + Nt.blank + \"</td>\");\n            break;\n\n          case Mt.resultAction.SumSpanCount:\n            if (\"top\" === e) if ((l.baseCell.parent ? l.baseCell.closest(\"tr\").rowIndex : 0) <= n[0].rowIndex) {\n              var d = k(\"<div></div>\").append(k(\"<td\" + c + \">\" + Nt.blank + \"</td>\").removeAttr(\"rowspan\")).html();\n              r.append(d);\n              break;\n            }\n            var u = parseInt(l.baseCell.rowSpan, 10);\n            u++, l.baseCell.setAttribute(\"rowSpan\", u);\n        }\n      }\n\n      if (\"top\" === e) n.before(r);else {\n        if (1 < o.rowSpan) {\n          var h = n[0].rowIndex + (o.rowSpan - 2);\n          return void k(k(n).parent().find(\"tr\")[h]).after(k(r));\n        }\n\n        n.after(r);\n      }\n    }, t.prototype.addCol = function (t, e) {\n      var o = Nt.ancestor(t.commonAncestor(), Nt.isCell),\n          n = k(o).closest(\"tr\");\n      k(n).siblings().push(n);\n\n      for (var i = new Mt(o, Mt.where.Column, Mt.requestAction.Add, k(n).closest(\"table\")[0]).getActionList(), r = 0; r < i.length; r++) {\n        var s = i[r],\n            a = this.recoverAttributes(s.baseCell);\n\n        switch (s.action) {\n          case Mt.resultAction.AddCell:\n            \"right\" === e ? k(s.baseCell).after(\"<td\" + a + \">\" + Nt.blank + \"</td>\") : k(s.baseCell).before(\"<td\" + a + \">\" + Nt.blank + \"</td>\");\n            break;\n\n          case Mt.resultAction.SumSpanCount:\n            if (\"right\" === e) {\n              var l = parseInt(s.baseCell.colSpan, 10);\n              l++, s.baseCell.setAttribute(\"colSpan\", l);\n            } else k(s.baseCell).before(\"<td\" + a + \">\" + Nt.blank + \"</td>\");\n\n        }\n      }\n    }, t.prototype.recoverAttributes = function (t) {\n      var e = \"\";\n      if (!t) return e;\n\n      for (var o = t.attributes || [], n = 0; n < o.length; n++) {\n        \"id\" !== o[n].name.toLowerCase() && o[n].specified && (e += \" \" + o[n].name + \"='\" + o[n].value + \"'\");\n      }\n\n      return e;\n    }, t.prototype.deleteRow = function (t) {\n      for (var e = Nt.ancestor(t.commonAncestor(), Nt.isCell), o = k(e).closest(\"tr\"), n = o.children(\"td, th\").index(k(e)), i = o[0].rowIndex, r = new Mt(e, Mt.where.Row, Mt.requestAction.Delete, k(o).closest(\"table\")[0]).getActionList(), s = 0; s < r.length; s++) {\n        if (r[s]) {\n          var a = r[s].baseCell,\n              l = r[s].virtualTable,\n              c = a.rowSpan && 1 < a.rowSpan,\n              d = c ? parseInt(a.rowSpan, 10) : 0;\n\n          switch (r[s].action) {\n            case Mt.resultAction.Ignore:\n              continue;\n\n            case Mt.resultAction.AddCell:\n              var u = o.next(\"tr\")[0];\n              if (!u) continue;\n              var h = o[0].cells[n];\n              c && (2 < d ? (d--, u.insertBefore(h, u.cells[n]), u.cells[n].setAttribute(\"rowSpan\", d), u.cells[n].innerHTML = \"\") : 2 === d && (u.insertBefore(h, u.cells[n]), u.cells[n].removeAttribute(\"rowSpan\"), u.cells[n].innerHTML = \"\"));\n              continue;\n\n            case Mt.resultAction.SubtractSpanCount:\n              c && (2 < d ? (d--, a.setAttribute(\"rowSpan\", d), l.rowIndex !== i && a.cellIndex === n && (a.innerHTML = \"\")) : 2 === d && (a.removeAttribute(\"rowSpan\"), l.rowIndex !== i && a.cellIndex === n && (a.innerHTML = \"\")));\n              continue;\n\n            case Mt.resultAction.RemoveCell:\n              continue;\n          }\n        }\n      }\n\n      o.remove();\n    }, t.prototype.deleteCol = function (t) {\n      for (var e = Nt.ancestor(t.commonAncestor(), Nt.isCell), o = k(e).closest(\"tr\"), n = o.children(\"td, th\").index(k(e)), i = new Mt(e, Mt.where.Column, Mt.requestAction.Delete, k(o).closest(\"table\")[0]).getActionList(), r = 0; r < i.length; r++) {\n        if (i[r]) switch (i[r].action) {\n          case Mt.resultAction.Ignore:\n            continue;\n\n          case Mt.resultAction.SubtractSpanCount:\n            var s = i[r].baseCell;\n\n            if (s.colSpan && 1 < s.colSpan) {\n              var a = s.colSpan ? parseInt(s.colSpan, 10) : 0;\n              2 < a ? (a--, s.setAttribute(\"colSpan\", a), s.cellIndex === n && (s.innerHTML = \"\")) : 2 === a && (s.removeAttribute(\"colSpan\"), s.cellIndex === n && (s.innerHTML = \"\"));\n            }\n\n            continue;\n\n          case Mt.resultAction.RemoveCell:\n            Nt.remove(i[r].baseCell, !0);\n            continue;\n        }\n      }\n    }, t.prototype.createTable = function (t, e, o) {\n      for (var n, i = [], r = 0; r < t; r++) {\n        i.push(\"<td>\" + Nt.blank + \"</td>\");\n      }\n\n      n = i.join(\"\");\n\n      for (var s, a = [], l = 0; l < e; l++) {\n        a.push(\"<tr>\" + n + \"</tr>\");\n      }\n\n      s = a.join(\"\");\n      var c = k(\"<table>\" + s + \"</table>\");\n      return o && o.tableClassName && c.addClass(o.tableClassName), c[0];\n    }, t.prototype.deleteTable = function (t) {\n      var e = Nt.ancestor(t.commonAncestor(), Nt.isCell);\n      k(e).closest(\"table\").remove();\n    }, t;\n  }(),\n      jt = function () {\n    function t(t) {\n      var u = this;\n      this.context = t, this.$note = t.layoutInfo.note, this.$editor = t.layoutInfo.editor, this.$editable = t.layoutInfo.editable, this.options = t.options, this.lang = this.options.langInfo, this.editable = this.$editable[0], this.lastRange = null, this.style = new Dt(), this.table = new Ut(), this.typing = new zt(t), this.bullet = new Bt(), this.history = new Ht(this.$editable), this.context.memo(\"help.undo\", this.lang.help.undo), this.context.memo(\"help.redo\", this.lang.help.redo), this.context.memo(\"help.tab\", this.lang.help.tab), this.context.memo(\"help.untab\", this.lang.help.untab), this.context.memo(\"help.insertParagraph\", this.lang.help.insertParagraph), this.context.memo(\"help.insertOrderedList\", this.lang.help.insertOrderedList), this.context.memo(\"help.insertUnorderedList\", this.lang.help.insertUnorderedList), this.context.memo(\"help.indent\", this.lang.help.indent), this.context.memo(\"help.outdent\", this.lang.help.outdent), this.context.memo(\"help.formatPara\", this.lang.help.formatPara), this.context.memo(\"help.insertHorizontalRule\", this.lang.help.insertHorizontalRule), this.context.memo(\"help.fontName\", this.lang.help.fontName);\n\n      for (var e = [\"bold\", \"italic\", \"underline\", \"strikethrough\", \"superscript\", \"subscript\", \"justifyLeft\", \"justifyCenter\", \"justifyRight\", \"justifyFull\", \"formatBlock\", \"removeFormat\", \"backColor\"], o = 0, n = e.length; o < n; o++) {\n        this[e[o]] = function (e) {\n          return function (t) {\n            u.beforeCommand(), document.execCommand(e, !1, t), u.afterCommand(!0);\n          };\n        }(e[o]), this.context.memo(\"help.\" + e[o], this.lang.help[e[o]]);\n      }\n\n      this.fontName = this.wrapCommand(function (t) {\n        return u.fontStyling(\"font-family\", \"'\" + t + \"'\");\n      }), this.fontSize = this.wrapCommand(function (t) {\n        return u.fontStyling(\"font-size\", t + \"px\");\n      });\n\n      for (o = 1; o <= 6; o++) {\n        this[\"formatH\" + o] = function (t) {\n          return function () {\n            u.formatBlock(\"H\" + t);\n          };\n        }(o), this.context.memo(\"help.formatH\" + o, this.lang.help[\"formatH\" + o]);\n      }\n\n      this.insertParagraph = this.wrapCommand(function () {\n        u.typing.insertParagraph(u.editable);\n      }), this.insertOrderedList = this.wrapCommand(function () {\n        u.bullet.insertOrderedList(u.editable);\n      }), this.insertUnorderedList = this.wrapCommand(function () {\n        u.bullet.insertUnorderedList(u.editable);\n      }), this.indent = this.wrapCommand(function () {\n        u.bullet.indent(u.editable);\n      }), this.outdent = this.wrapCommand(function () {\n        u.bullet.outdent(u.editable);\n      }), this.insertNode = this.wrapCommand(function (t) {\n        u.isLimited(k(t).text().length) || (u.createRange().insertNode(t), Ft.createFromNodeAfter(t).select());\n      }), this.insertText = this.wrapCommand(function (t) {\n        if (!u.isLimited(t.length)) {\n          var e = u.createRange().insertNode(Nt.createText(t));\n          Ft.create(e, Nt.nodeLength(e)).select();\n        }\n      }), this.pasteHTML = this.wrapCommand(function (t) {\n        if (!u.isLimited(t.length)) {\n          var e = u.createRange().pasteHTML(t);\n          Ft.createFromNodeAfter(N.last(e)).select();\n        }\n      }), this.formatBlock = this.wrapCommand(function (t, e) {\n        var o = u.options.callbacks.onApplyCustomStyle;\n        o ? o.call(u, e, u.context, u.onFormatBlock) : u.onFormatBlock(t, e);\n      }), this.insertHorizontalRule = this.wrapCommand(function () {\n        var t = u.createRange().insertNode(Nt.create(\"HR\"));\n        t.nextSibling && Ft.create(t.nextSibling, 0).normalize().select();\n      }), this.lineHeight = this.wrapCommand(function (t) {\n        u.style.stylePara(u.createRange(), {\n          lineHeight: t\n        });\n      }), this.createLink = this.wrapCommand(function (t) {\n        var o = t.url,\n            e = t.text,\n            n = t.isNewWindow,\n            i = t.range || u.createRange(),\n            r = e.length - i.toString().length;\n\n        if (!(0 < r && u.isLimited(r))) {\n          var s = i.toString() !== e;\n          \"string\" == typeof o && (o = o.trim()), u.options.onCreateLink ? o = u.options.onCreateLink(o) : /^\\.?\\/(.*)/.test(o) || (o = /^[A-Za-z][A-Za-z0-9+-.]*\\:[\\/\\/]?/.test(o) ? o : \"http://\" + o);\n          var a = [];\n\n          if (s) {\n            var l = (i = i.deleteContents()).insertNode(k(\"<A>\" + e + \"</A>\")[0]);\n            a.push(l);\n          } else a = u.style.styleNodes(i, {\n            nodeName: \"A\",\n            expandClosestSibling: !0,\n            onlyPartialContains: !0\n          });\n\n          k.each(a, function (t, e) {\n            k(e).attr(\"href\", o), n ? k(e).attr(\"target\", \"_blank\") : k(e).removeAttr(\"target\");\n          });\n          var c = Ft.createFromNodeBefore(N.head(a)).getStartPoint(),\n              d = Ft.createFromNodeAfter(N.last(a)).getEndPoint();\n          Ft.create(c.node, c.offset, d.node, d.offset).select();\n        }\n      }), this.color = this.wrapCommand(function (t) {\n        var e = t.foreColor,\n            o = t.backColor;\n        e && document.execCommand(\"foreColor\", !1, e), o && document.execCommand(\"backColor\", !1, o);\n      }), this.foreColor = this.wrapCommand(function (t) {\n        document.execCommand(\"styleWithCSS\", !1, !0), document.execCommand(\"foreColor\", !1, t);\n      }), this.insertTable = this.wrapCommand(function (t) {\n        var e = t.split(\"x\");\n        u.createRange().deleteContents().insertNode(u.table.createTable(e[0], e[1], u.options));\n      }), this.removeMedia = this.wrapCommand(function () {\n        var t = k(u.restoreTarget()).parent();\n        t.parent(\"figure\").length ? t.parent(\"figure\").remove() : t = k(u.restoreTarget()).detach(), u.context.triggerEvent(\"media.delete\", t, u.$editable);\n      }), this.floatMe = this.wrapCommand(function (t) {\n        var e = k(u.restoreTarget());\n        e.toggleClass(\"note-float-left\", \"left\" === t), e.toggleClass(\"note-float-right\", \"right\" === t), e.css(\"float\", t);\n      }), this.resize = this.wrapCommand(function (t) {\n        k(u.restoreTarget()).css({\n          width: 100 * t + \"%\",\n          height: \"\"\n        });\n      });\n    }\n\n    return t.prototype.initialize = function () {\n      var e = this;\n      this.$editable.on(\"keydown\", function (t) {\n        if (t.keyCode === Lt.code.ENTER && e.context.triggerEvent(\"enter\", t), e.context.triggerEvent(\"keydown\", t), t.isDefaultPrevented() || (e.options.shortcuts ? e.handleKeyMap(t) : e.preventDefaultEditableShortCuts(t)), e.isLimited(1, t)) return !1;\n      }).on(\"keyup\", function (t) {\n        e.context.triggerEvent(\"keyup\", t);\n      }).on(\"focus\", function (t) {\n        e.context.triggerEvent(\"focus\", t);\n      }).on(\"blur\", function (t) {\n        e.context.triggerEvent(\"blur\", t);\n      }).on(\"mousedown\", function (t) {\n        e.context.triggerEvent(\"mousedown\", t);\n      }).on(\"mouseup\", function (t) {\n        e.context.triggerEvent(\"mouseup\", t);\n      }).on(\"scroll\", function (t) {\n        e.context.triggerEvent(\"scroll\", t);\n      }).on(\"paste\", function (t) {\n        e.context.triggerEvent(\"paste\", t);\n      }), this.$editable.html(Nt.html(this.$note) || Nt.emptyPara), this.$editable.on(z.inputEventName, C.debounce(function () {\n        e.context.triggerEvent(\"change\", e.$editable.html());\n      }, 10)), this.$editor.on(\"focusin\", function (t) {\n        e.context.triggerEvent(\"focusin\", t);\n      }).on(\"focusout\", function (t) {\n        e.context.triggerEvent(\"focusout\", t);\n      }), this.options.airMode || (this.options.width && this.$editor.outerWidth(this.options.width), this.options.height && this.$editable.outerHeight(this.options.height), this.options.maxHeight && this.$editable.css(\"max-height\", this.options.maxHeight), this.options.minHeight && this.$editable.css(\"min-height\", this.options.minHeight)), this.history.recordUndo();\n    }, t.prototype.destroy = function () {\n      this.$editable.off();\n    }, t.prototype.handleKeyMap = function (t) {\n      var e = this.options.keyMap[z.isMac ? \"mac\" : \"pc\"],\n          o = [];\n      t.metaKey && o.push(\"CMD\"), t.ctrlKey && !t.altKey && o.push(\"CTRL\"), t.shiftKey && o.push(\"SHIFT\");\n      var n = Lt.nameFromCode[t.keyCode];\n      n && o.push(n);\n      var i = e[o.join(\"+\")];\n      i ? !1 !== this.context.invoke(i) && t.preventDefault() : Lt.isEdit(t.keyCode) && this.afterCommand();\n    }, t.prototype.preventDefaultEditableShortCuts = function (t) {\n      (t.ctrlKey || t.metaKey) && N.contains([66, 73, 85], t.keyCode) && t.preventDefault();\n    }, t.prototype.isLimited = function (t, e) {\n      return t = t || 0, (void 0 === e || !(Lt.isMove(e.keyCode) || e.ctrlKey || e.metaKey || N.contains([Lt.code.BACKSPACE, Lt.code.DELETE], e.keyCode))) && 0 < this.options.maxTextLength && this.$editable.text().length + t >= this.options.maxTextLength;\n    }, t.prototype.createRange = function () {\n      return this.focus(), Ft.create(this.editable);\n    }, t.prototype.saveRange = function (t) {\n      this.lastRange = this.createRange(), t && this.lastRange.collapse().select();\n    }, t.prototype.restoreRange = function () {\n      this.lastRange && (this.lastRange.select(), this.focus());\n    }, t.prototype.saveTarget = function (t) {\n      this.$editable.data(\"target\", t);\n    }, t.prototype.clearTarget = function () {\n      this.$editable.removeData(\"target\");\n    }, t.prototype.restoreTarget = function () {\n      return this.$editable.data(\"target\");\n    }, t.prototype.currentStyle = function () {\n      var t = Ft.create();\n      return t && (t = t.normalize()), t ? this.style.current(t) : this.style.fromNode(this.$editable);\n    }, t.prototype.styleFromNode = function (t) {\n      return this.style.fromNode(t);\n    }, t.prototype.undo = function () {\n      this.context.triggerEvent(\"before.command\", this.$editable.html()), this.history.undo(), this.context.triggerEvent(\"change\", this.$editable.html());\n    }, t.prototype.commit = function () {\n      this.context.triggerEvent(\"before.command\", this.$editable.html()), this.history.commit(), this.context.triggerEvent(\"change\", this.$editable.html());\n    }, t.prototype.redo = function () {\n      this.context.triggerEvent(\"before.command\", this.$editable.html()), this.history.redo(), this.context.triggerEvent(\"change\", this.$editable.html());\n    }, t.prototype.beforeCommand = function () {\n      this.context.triggerEvent(\"before.command\", this.$editable.html()), this.focus();\n    }, t.prototype.afterCommand = function (t) {\n      this.normalizeContent(), this.history.recordUndo(), t || this.context.triggerEvent(\"change\", this.$editable.html());\n    }, t.prototype.tab = function () {\n      var t = this.createRange();\n      if (t.isCollapsed() && t.isOnCell()) this.table.tab(t);else {\n        if (0 === this.options.tabSize) return !1;\n        this.isLimited(this.options.tabSize) || (this.beforeCommand(), this.typing.insertTab(t, this.options.tabSize), this.afterCommand());\n      }\n    }, t.prototype.untab = function () {\n      var t = this.createRange();\n      if (t.isCollapsed() && t.isOnCell()) this.table.tab(t, !0);else if (0 === this.options.tabSize) return !1;\n    }, t.prototype.wrapCommand = function (t) {\n      return function () {\n        this.beforeCommand(), t.apply(this, arguments), this.afterCommand();\n      };\n    }, t.prototype.insertImage = function (t, e) {\n      var o,\n          n = this;\n      return (o = t, k.Deferred(function (t) {\n        var e = k(\"<img>\");\n        e.one(\"load\", function () {\n          e.off(\"error abort\"), t.resolve(e);\n        }).one(\"error abort\", function () {\n          e.off(\"load\").detach(), t.reject(e);\n        }).css({\n          display: \"none\"\n        }).appendTo(document.body).attr(\"src\", o);\n      }).promise()).then(function (t) {\n        n.beforeCommand(), \"function\" == typeof e ? e(t) : (\"string\" == typeof e && t.attr(\"data-filename\", e), t.css(\"width\", Math.min(n.$editable.width(), t.width()))), t.show(), Ft.create(n.editable).insertNode(t[0]), Ft.createFromNodeAfter(t[0]).select(), n.afterCommand();\n      }).fail(function (t) {\n        n.context.triggerEvent(\"image.upload.error\", t);\n      });\n    }, t.prototype.insertImagesAsDataURL = function (t) {\n      var i = this;\n      k.each(t, function (t, e) {\n        var n,\n            o = e.name;\n        i.options.maximumImageFileSize && i.options.maximumImageFileSize < e.size ? i.context.triggerEvent(\"image.upload.error\", i.lang.image.maximumFileSizeError) : (n = e, k.Deferred(function (o) {\n          k.extend(new FileReader(), {\n            onload: function onload(t) {\n              var e = t.target.result;\n              o.resolve(e);\n            },\n            onerror: function onerror(t) {\n              o.reject(t);\n            }\n          }).readAsDataURL(n);\n        }).promise()).then(function (t) {\n          return i.insertImage(t, o);\n        }).fail(function () {\n          i.context.triggerEvent(\"image.upload.error\");\n        });\n      });\n    }, t.prototype.getSelectedText = function () {\n      var t = this.createRange();\n      return t.isOnAnchor() && (t = Ft.createFromNode(Nt.ancestor(t.sc, Nt.isAnchor))), t.toString();\n    }, t.prototype.onFormatBlock = function (t, e) {\n      if (t = z.isMSIE ? \"<\" + t + \">\" : t, document.execCommand(\"FormatBlock\", !1, t), e && e.length) {\n        var o = e[0].className || \"\";\n\n        if (o) {\n          var n = this.createRange();\n          k([n.sc, n.ec]).closest(t).addClass(o);\n        }\n      }\n    }, t.prototype.formatPara = function () {\n      this.formatBlock(\"P\");\n    }, t.prototype.fontStyling = function (t, e) {\n      var o = this.createRange();\n\n      if (o) {\n        var n = this.style.styleNodes(o);\n\n        if (k(n).css(t, e), o.isCollapsed()) {\n          var i = N.head(n);\n          i && !Nt.nodeLength(i) && (i.innerHTML = Nt.ZERO_WIDTH_NBSP_CHAR, Ft.createFromNodeAfter(i.firstChild).select(), this.$editable.data(\"bogus\", i));\n        }\n      }\n    }, t.prototype.unlink = function () {\n      var t = this.createRange();\n\n      if (t.isOnAnchor()) {\n        var e = Nt.ancestor(t.sc, Nt.isAnchor);\n        (t = Ft.createFromNode(e)).select(), this.beforeCommand(), document.execCommand(\"unlink\"), this.afterCommand();\n      }\n    }, t.prototype.getLinkInfo = function () {\n      var t = this.createRange().expand(Nt.isAnchor),\n          e = k(N.head(t.nodes(Nt.isAnchor))),\n          o = {\n        range: t,\n        text: t.toString(),\n        url: e.length ? e.attr(\"href\") : \"\"\n      };\n      return e.length && (o.isNewWindow = \"_blank\" === e.attr(\"target\")), o;\n    }, t.prototype.addRow = function (t) {\n      var e = this.createRange(this.$editable);\n      e.isCollapsed() && e.isOnCell() && (this.beforeCommand(), this.table.addRow(e, t), this.afterCommand());\n    }, t.prototype.addCol = function (t) {\n      var e = this.createRange(this.$editable);\n      e.isCollapsed() && e.isOnCell() && (this.beforeCommand(), this.table.addCol(e, t), this.afterCommand());\n    }, t.prototype.deleteRow = function () {\n      var t = this.createRange(this.$editable);\n      t.isCollapsed() && t.isOnCell() && (this.beforeCommand(), this.table.deleteRow(t), this.afterCommand());\n    }, t.prototype.deleteCol = function () {\n      var t = this.createRange(this.$editable);\n      t.isCollapsed() && t.isOnCell() && (this.beforeCommand(), this.table.deleteCol(t), this.afterCommand());\n    }, t.prototype.deleteTable = function () {\n      var t = this.createRange(this.$editable);\n      t.isCollapsed() && t.isOnCell() && (this.beforeCommand(), this.table.deleteTable(t), this.afterCommand());\n    }, t.prototype.resizeTo = function (t, e, o) {\n      var n;\n\n      if (o) {\n        var i = t.y / t.x,\n            r = e.data(\"ratio\");\n        n = {\n          width: i < r ? t.x : t.y / r,\n          height: i < r ? t.x * r : t.y\n        };\n      } else n = {\n        width: t.x,\n        height: t.y\n      };\n\n      e.css(n);\n    }, t.prototype.hasFocus = function () {\n      return this.$editable.is(\":focus\");\n    }, t.prototype.focus = function () {\n      this.hasFocus() || this.$editable.focus();\n    }, t.prototype.isEmpty = function () {\n      return Nt.isEmpty(this.$editable[0]) || Nt.emptyPara === this.$editable.html();\n    }, t.prototype.empty = function () {\n      this.context.invoke(\"code\", Nt.emptyPara);\n    }, t.prototype.normalizeContent = function () {\n      this.$editable[0].normalize();\n    }, t;\n  }(),\n      qt = function () {\n    function t(t) {\n      this.context = t, this.$editable = t.layoutInfo.editable;\n    }\n\n    return t.prototype.initialize = function () {\n      this.$editable.on(\"paste\", this.pasteByEvent.bind(this));\n    }, t.prototype.pasteByEvent = function (t) {\n      var e = t.originalEvent.clipboardData;\n\n      if (e && e.items && e.items.length) {\n        var o = 1 < e.items.length ? e.items[1] : N.head(e.items);\n        \"file\" === o.kind && -1 !== o.type.indexOf(\"image/\") && this.context.invoke(\"editor.insertImagesOrCallback\", [o.getAsFile()]), this.context.invoke(\"editor.afterCommand\");\n      }\n    }, t;\n  }(),\n      Kt = function () {\n    function t(t) {\n      this.context = t, this.$eventListener = k(document), this.$editor = t.layoutInfo.editor, this.$editable = t.layoutInfo.editable, this.options = t.options, this.lang = this.options.langInfo, this.documentEventHandlers = {}, this.$dropzone = k(['<div class=\"note-dropzone\">', '  <div class=\"note-dropzone-message\"/>', \"</div>\"].join(\"\")).prependTo(this.$editor);\n    }\n\n    return t.prototype.initialize = function () {\n      this.options.disableDragAndDrop ? (this.documentEventHandlers.onDrop = function (t) {\n        t.preventDefault();\n      }, this.$eventListener = this.$dropzone, this.$eventListener.on(\"drop\", this.documentEventHandlers.onDrop)) : this.attachDragAndDropEvent();\n    }, t.prototype.attachDragAndDropEvent = function () {\n      var i = this,\n          n = k(),\n          r = this.$dropzone.find(\".note-dropzone-message\");\n      this.documentEventHandlers.onDragenter = function (t) {\n        var e = i.context.invoke(\"codeview.isActivated\"),\n            o = 0 < i.$editor.width() && 0 < i.$editor.height();\n        e || n.length || !o || (i.$editor.addClass(\"dragover\"), i.$dropzone.width(i.$editor.width()), i.$dropzone.height(i.$editor.height()), r.text(i.lang.image.dragImageHere)), n = n.add(t.target);\n      }, this.documentEventHandlers.onDragleave = function (t) {\n        (n = n.not(t.target)).length || i.$editor.removeClass(\"dragover\");\n      }, this.documentEventHandlers.onDrop = function () {\n        n = k(), i.$editor.removeClass(\"dragover\");\n      }, this.$eventListener.on(\"dragenter\", this.documentEventHandlers.onDragenter).on(\"dragleave\", this.documentEventHandlers.onDragleave).on(\"drop\", this.documentEventHandlers.onDrop), this.$dropzone.on(\"dragenter\", function () {\n        i.$dropzone.addClass(\"hover\"), r.text(i.lang.image.dropImage);\n      }).on(\"dragleave\", function () {\n        i.$dropzone.removeClass(\"hover\"), r.text(i.lang.image.dragImageHere);\n      }), this.$dropzone.on(\"drop\", function (t) {\n        var n = t.originalEvent.dataTransfer;\n        t.preventDefault(), n && n.files && n.files.length ? (i.$editable.focus(), i.context.invoke(\"editor.insertImagesOrCallback\", n.files)) : k.each(n.types, function (t, e) {\n          var o = n.getData(e);\n          -1 < e.toLowerCase().indexOf(\"text\") ? i.context.invoke(\"editor.pasteHTML\", o) : k(o).each(function (t, e) {\n            i.context.invoke(\"editor.insertNode\", e);\n          });\n        });\n      }).on(\"dragover\", !1);\n    }, t.prototype.destroy = function () {\n      var e = this;\n      Object.keys(this.documentEventHandlers).forEach(function (t) {\n        e.$eventListener.off(t.substr(2).toLowerCase(), e.documentEventHandlers[t]);\n      }), this.documentEventHandlers = {};\n    }, t;\n  }();\n\n  z.hasCodeMirror && (z.isSupportAmd ? require([\"codemirror\"], function (t) {\n    Ot = t;\n  }) : Ot = window.CodeMirror);\n\n  var Vt = function () {\n    function t(t) {\n      this.context = t, this.$editor = t.layoutInfo.editor, this.$editable = t.layoutInfo.editable, this.$codable = t.layoutInfo.codable, this.options = t.options;\n    }\n\n    return t.prototype.sync = function () {\n      this.isActivated() && z.hasCodeMirror && this.$codable.data(\"cmEditor\").save();\n    }, t.prototype.isActivated = function () {\n      return this.$editor.hasClass(\"codeview\");\n    }, t.prototype.toggle = function () {\n      this.isActivated() ? this.deactivate() : this.activate(), this.context.triggerEvent(\"codeview.toggled\");\n    }, t.prototype.activate = function () {\n      var e = this;\n\n      if (this.$codable.val(Nt.html(this.$editable, this.options.prettifyHtml)), this.$codable.height(this.$editable.height()), this.context.invoke(\"toolbar.updateCodeview\", !0), this.$editor.addClass(\"codeview\"), this.$codable.focus(), z.hasCodeMirror) {\n        var o = Ot.fromTextArea(this.$codable[0], this.options.codemirror);\n\n        if (this.options.codemirror.tern) {\n          var n = new Ot.TernServer(this.options.codemirror.tern);\n          o.ternServer = n, o.on(\"cursorActivity\", function (t) {\n            n.updateArgHints(t);\n          });\n        }\n\n        o.on(\"blur\", function (t) {\n          e.context.triggerEvent(\"blur.codeview\", o.getValue(), t);\n        }), o.setSize(null, this.$editable.outerHeight()), this.$codable.data(\"cmEditor\", o);\n      } else this.$codable.on(\"blur\", function (t) {\n        e.context.triggerEvent(\"blur.codeview\", e.$codable.val(), t);\n      });\n    }, t.prototype.deactivate = function () {\n      if (z.hasCodeMirror) {\n        var t = this.$codable.data(\"cmEditor\");\n        this.$codable.val(t.getValue()), t.toTextArea();\n      }\n\n      var e = Nt.value(this.$codable, this.options.prettifyHtml) || Nt.emptyPara,\n          o = this.$editable.html() !== e;\n      this.$editable.html(e), this.$editable.height(this.options.height ? this.$codable.height() : \"auto\"), this.$editor.removeClass(\"codeview\"), o && this.context.triggerEvent(\"change\", this.$editable.html(), this.$editable), this.$editable.focus(), this.context.invoke(\"toolbar.updateCodeview\", !1);\n    }, t.prototype.destroy = function () {\n      this.isActivated() && this.deactivate();\n    }, t;\n  }(),\n      Wt = function () {\n    function t(t) {\n      this.$document = k(document), this.$statusbar = t.layoutInfo.statusbar, this.$editable = t.layoutInfo.editable, this.options = t.options;\n    }\n\n    return t.prototype.initialize = function () {\n      var n = this;\n      this.options.airMode || this.options.disableResizeEditor ? this.destroy() : this.$statusbar.on(\"mousedown\", function (t) {\n        t.preventDefault(), t.stopPropagation();\n\n        var o = n.$editable.offset().top - n.$document.scrollTop(),\n            e = function e(t) {\n          var e = t.clientY - (o + 24);\n          e = 0 < n.options.minheight ? Math.max(e, n.options.minheight) : e, e = 0 < n.options.maxHeight ? Math.min(e, n.options.maxHeight) : e, n.$editable.height(e);\n        };\n\n        n.$document.on(\"mousemove\", e).one(\"mouseup\", function () {\n          n.$document.off(\"mousemove\", e);\n        });\n      });\n    }, t.prototype.destroy = function () {\n      this.$statusbar.off(), this.$statusbar.addClass(\"locked\");\n    }, t;\n  }(),\n      _t = function () {\n    function t(t) {\n      var e = this;\n      this.context = t, this.$editor = t.layoutInfo.editor, this.$toolbar = t.layoutInfo.toolbar, this.$editable = t.layoutInfo.editable, this.$codable = t.layoutInfo.codable, this.$window = k(window), this.$scrollbar = k(\"html, body\"), this.onResize = function () {\n        e.resizeTo({\n          h: e.$window.height() - e.$toolbar.outerHeight()\n        });\n      };\n    }\n\n    return t.prototype.resizeTo = function (t) {\n      this.$editable.css(\"height\", t.h), this.$codable.css(\"height\", t.h), this.$codable.data(\"cmeditor\") && this.$codable.data(\"cmeditor\").setsize(null, t.h);\n    }, t.prototype.toggle = function () {\n      this.$editor.toggleClass(\"fullscreen\"), this.isFullscreen() ? (this.$editable.data(\"orgHeight\", this.$editable.css(\"height\")), this.$editable.data(\"orgMaxHeight\", this.$editable.css(\"maxHeight\")), this.$editable.css(\"maxHeight\", \"\"), this.$window.on(\"resize\", this.onResize).trigger(\"resize\"), this.$scrollbar.css(\"overflow\", \"hidden\")) : (this.$window.off(\"resize\", this.onResize), this.resizeTo({\n        h: this.$editable.data(\"orgHeight\")\n      }), this.$editable.css(\"maxHeight\", this.$editable.css(\"orgMaxHeight\")), this.$scrollbar.css(\"overflow\", \"visible\")), this.context.invoke(\"toolbar.updateFullscreen\", this.isFullscreen());\n    }, t.prototype.isFullscreen = function () {\n      return this.$editor.hasClass(\"fullscreen\");\n    }, t;\n  }(),\n      Gt = function () {\n    function t(t) {\n      var o = this;\n      this.context = t, this.$document = k(document), this.$editingArea = t.layoutInfo.editingArea, this.options = t.options, this.lang = this.options.langInfo, this.events = {\n        \"summernote.mousedown\": function summernoteMousedown(t, e) {\n          o.update(e.target) && e.preventDefault();\n        },\n        \"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown\": function summernoteKeyupSummernoteScrollSummernoteChangeSummernoteDialogShown() {\n          o.update();\n        },\n        \"summernote.disable\": function summernoteDisable() {\n          o.hide();\n        },\n        \"summernote.codeview.toggled\": function summernoteCodeviewToggled() {\n          o.update();\n        }\n      };\n    }\n\n    return t.prototype.initialize = function () {\n      var r = this;\n      this.$handle = k(['<div class=\"note-handle\">', '<div class=\"note-control-selection\">', '<div class=\"note-control-selection-bg\"></div>', '<div class=\"note-control-holder note-control-nw\"></div>', '<div class=\"note-control-holder note-control-ne\"></div>', '<div class=\"note-control-holder note-control-sw\"></div>', '<div class=\"', this.options.disableResizeImage ? \"note-control-holder\" : \"note-control-sizing\", ' note-control-se\"></div>', this.options.disableResizeImage ? \"\" : '<div class=\"note-control-selection-info\"></div>', \"</div>\", \"</div>\"].join(\"\")).prependTo(this.$editingArea), this.$handle.on(\"mousedown\", function (t) {\n        if (Nt.isControlSizing(t.target)) {\n          t.preventDefault(), t.stopPropagation();\n\n          var e = r.$handle.find(\".note-control-selection\").data(\"target\"),\n              o = e.offset(),\n              n = r.$document.scrollTop(),\n              i = function i(t) {\n            r.context.invoke(\"editor.resizeTo\", {\n              x: t.clientX - o.left,\n              y: t.clientY - (o.top - n)\n            }, e, !t.shiftKey), r.update(e[0]);\n          };\n\n          r.$document.on(\"mousemove\", i).one(\"mouseup\", function (t) {\n            t.preventDefault(), r.$document.off(\"mousemove\", i), r.context.invoke(\"editor.afterCommand\");\n          }), e.data(\"ratio\") || e.data(\"ratio\", e.height() / e.width());\n        }\n      }), this.$handle.on(\"wheel\", function (t) {\n        t.preventDefault(), r.update();\n      });\n    }, t.prototype.destroy = function () {\n      this.$handle.remove();\n    }, t.prototype.update = function (t) {\n      if (this.context.isDisabled()) return !1;\n      var e = Nt.isImg(t),\n          o = this.$handle.find(\".note-control-selection\");\n\n      if (this.context.invoke(\"imagePopover.update\", t), e) {\n        var n = k(t),\n            i = n.position(),\n            r = {\n          left: i.left + parseInt(n.css(\"marginLeft\"), 10),\n          top: i.top + parseInt(n.css(\"marginTop\"), 10)\n        },\n            s = {\n          w: n.outerWidth(!1),\n          h: n.outerHeight(!1)\n        };\n        o.css({\n          display: \"block\",\n          left: r.left,\n          top: r.top,\n          width: s.w,\n          height: s.h\n        }).data(\"target\", n);\n        var a = new Image();\n        a.src = n.attr(\"src\");\n        var l = s.w + \"x\" + s.h + \" (\" + this.lang.image.original + \": \" + a.width + \"x\" + a.height + \")\";\n        o.find(\".note-control-selection-info\").text(l), this.context.invoke(\"editor.saveTarget\", t);\n      } else this.hide();\n\n      return e;\n    }, t.prototype.hide = function () {\n      this.context.invoke(\"editor.clearTarget\"), this.$handle.children().hide();\n    }, t;\n  }(),\n      Zt = /^([A-Za-z][A-Za-z0-9+-.]*\\:[\\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\\.)?(.+)$/i,\n      Yt = function () {\n    function t(t) {\n      var o = this;\n      this.context = t, this.events = {\n        \"summernote.keyup\": function summernoteKeyup(t, e) {\n          e.isDefaultPrevented() || o.handleKeyup(e);\n        },\n        \"summernote.keydown\": function summernoteKeydown(t, e) {\n          o.handleKeydown(e);\n        }\n      };\n    }\n\n    return t.prototype.initialize = function () {\n      this.lastWordRange = null;\n    }, t.prototype.destroy = function () {\n      this.lastWordRange = null;\n    }, t.prototype.replace = function () {\n      if (this.lastWordRange) {\n        var t = this.lastWordRange.toString(),\n            e = t.match(Zt);\n\n        if (e && (e[1] || e[2])) {\n          var o = e[1] ? t : \"http://\" + t,\n              n = k(\"<a />\").html(t).attr(\"href\", o)[0];\n          this.context.options.linkTargetBlank && k(n).attr(\"target\", \"_blank\"), this.lastWordRange.insertNode(n), this.lastWordRange = null, this.context.invoke(\"editor.focus\");\n        }\n      }\n    }, t.prototype.handleKeydown = function (t) {\n      if (N.contains([Lt.code.ENTER, Lt.code.SPACE], t.keyCode)) {\n        var e = this.context.invoke(\"editor.createRange\").getWordRange();\n        this.lastWordRange = e;\n      }\n    }, t.prototype.handleKeyup = function (t) {\n      N.contains([Lt.code.ENTER, Lt.code.SPACE], t.keyCode) && this.replace();\n    }, t;\n  }(),\n      Qt = function () {\n    function t(t) {\n      var e = this;\n      this.$note = t.layoutInfo.note, this.events = {\n        \"summernote.change\": function summernoteChange() {\n          e.$note.val(t.invoke(\"code\"));\n        }\n      };\n    }\n\n    return t.prototype.shouldInitialize = function () {\n      return Nt.isTextarea(this.$note[0]);\n    }, t;\n  }(),\n      Jt = function () {\n    function t(t) {\n      var e = this;\n      this.context = t, this.$editingArea = t.layoutInfo.editingArea, this.options = t.options, this.events = {\n        \"summernote.init summernote.change\": function summernoteInitSummernoteChange() {\n          e.update();\n        },\n        \"summernote.codeview.toggled\": function summernoteCodeviewToggled() {\n          e.update();\n        }\n      };\n    }\n\n    return t.prototype.shouldInitialize = function () {\n      return !!this.options.placeholder;\n    }, t.prototype.initialize = function () {\n      var t = this;\n      this.$placeholder = k('<div class=\"note-placeholder\">'), this.$placeholder.on(\"click\", function () {\n        t.context.invoke(\"focus\");\n      }).html(this.options.placeholder).prependTo(this.$editingArea), this.update();\n    }, t.prototype.destroy = function () {\n      this.$placeholder.remove();\n    }, t.prototype.update = function () {\n      var t = !this.context.invoke(\"codeview.isActivated\") && this.context.invoke(\"editor.isEmpty\");\n      this.$placeholder.toggle(t);\n    }, t;\n  }(),\n      Xt = function () {\n    function t(t) {\n      this.ui = k.summernote.ui, this.context = t, this.$toolbar = t.layoutInfo.toolbar, this.options = t.options, this.lang = this.options.langInfo, this.invertedKeyMap = C.invertObject(this.options.keyMap[z.isMac ? \"mac\" : \"pc\"]);\n    }\n\n    return t.prototype.representShortcut = function (t) {\n      var e = this.invertedKeyMap[t];\n      return this.options.shortcuts && e ? (z.isMac && (e = e.replace(\"CMD\", \"\").replace(\"SHIFT\", \"\")), \" (\" + (e = e.replace(\"BACKSLASH\", \"\\\\\").replace(\"SLASH\", \"/\").replace(\"LEFTBRACKET\", \"[\").replace(\"RIGHTBRACKET\", \"]\")) + \")\") : \"\";\n    }, t.prototype.button = function (t) {\n      return !this.options.tooltip && t.tooltip && delete t.tooltip, t.container = this.options.container, this.ui.button(t);\n    }, t.prototype.initialize = function () {\n      this.addToolbarButtons(), this.addImagePopoverButtons(), this.addLinkPopoverButtons(), this.addTablePopoverButtons(), this.fontInstalledMap = {};\n    }, t.prototype.destroy = function () {\n      delete this.fontInstalledMap;\n    }, t.prototype.isFontInstalled = function (t) {\n      return this.fontInstalledMap.hasOwnProperty(t) || (this.fontInstalledMap[t] = z.isFontInstalled(t) || N.contains(this.options.fontNamesIgnoreCheck, t)), this.fontInstalledMap[t];\n    }, t.prototype.isFontDeservedToAdd = function (t) {\n      return \"\" !== (t = t.toLowerCase()) && this.isFontInstalled(t) && -1 === k.inArray(t, [\"sans-serif\", \"serif\", \"monospace\", \"cursive\", \"fantasy\"]);\n    }, t.prototype.colorPalette = function (h, t, o, n) {\n      var p = this;\n      return this.ui.buttonGroup({\n        className: \"note-color \" + h,\n        children: [this.button({\n          className: \"note-current-color-button\",\n          contents: this.ui.icon(this.options.icons.font + \" note-recent-color\"),\n          tooltip: t,\n          click: function click(t) {\n            var e = k(t.currentTarget);\n            o && n ? p.context.invoke(\"editor.color\", {\n              backColor: e.attr(\"data-backColor\"),\n              foreColor: e.attr(\"data-foreColor\")\n            }) : o ? p.context.invoke(\"editor.color\", {\n              backColor: e.attr(\"data-backColor\")\n            }) : n && p.context.invoke(\"editor.color\", {\n              foreColor: e.attr(\"data-foreColor\")\n            });\n          },\n          callback: function callback(t) {\n            var e = t.find(\".note-recent-color\");\n            o && (e.css(\"background-color\", \"#FFFF00\"), t.attr(\"data-backColor\", \"#FFFF00\")), n || e.css(\"color\", \"transparent\");\n          }\n        }), this.button({\n          className: \"dropdown-toggle\",\n          contents: this.ui.dropdownButtonContents(\"\", this.options),\n          tooltip: this.lang.color.more,\n          data: {\n            toggle: \"dropdown\"\n          }\n        }), this.ui.dropdown({\n          items: (o ? ['<div class=\"note-palette\">', '  <div class=\"note-palette-title\">' + this.lang.color.background + \"</div>\", \"  <div>\", '    <button type=\"button\" class=\"note-color-reset btn btn-light\" data-event=\"backColor\" data-value=\"inherit\">', this.lang.color.transparent, \"    </button>\", \"  </div>\", '  <div class=\"note-holder\" data-event=\"backColor\"/>', \"  <div>\", '    <button type=\"button\" class=\"note-color-select btn\" data-event=\"openPalette\" data-value=\"backColorPicker\">', this.lang.color.cpSelect, \"    </button>\", '    <input type=\"color\" id=\"backColorPicker\" class=\"note-btn note-color-select-btn\" value=\"#FFFF00\" data-event=\"backColorPalette\">', \"  </div>\", '  <div class=\"note-holder-custom\" id=\"backColorPalette\" data-event=\"backColor\"/>', \"</div>\"].join(\"\") : \"\") + (n ? ['<div class=\"note-palette\">', '  <div class=\"note-palette-title\">' + this.lang.color.foreground + \"</div>\", \"  <div>\", '    <button type=\"button\" class=\"note-color-reset btn btn-light\" data-event=\"removeFormat\" data-value=\"foreColor\">', this.lang.color.resetToDefault, \"    </button>\", \"  </div>\", '  <div class=\"note-holder\" data-event=\"foreColor\"/>', \"  <div>\", '    <button type=\"button\" class=\"note-color-select btn\" data-event=\"openPalette\" data-value=\"foreColorPicker\">', this.lang.color.cpSelect, \"    </button>\", '    <input type=\"color\" id=\"foreColorPicker\" class=\"note-btn note-color-select-btn\" value=\"#000000\" data-event=\"foreColorPalette\">', '  <div class=\"note-holder-custom\" id=\"foreColorPalette\" data-event=\"foreColor\"/>', \"</div>\"].join(\"\") : \"\"),\n          callback: function callback(o) {\n            o.find(\".note-holder\").each(function (t, e) {\n              var o = k(e);\n              o.append(p.ui.palette({\n                colors: p.options.colors,\n                colorsName: p.options.colorsName,\n                eventName: o.data(\"event\"),\n                container: p.options.container,\n                tooltip: p.options.tooltip\n              }).render());\n            });\n            var n = [[\"#FFFFFF\", \"#FFFFFF\", \"#FFFFFF\", \"#FFFFFF\", \"#FFFFFF\", \"#FFFFFF\", \"#FFFFFF\", \"#FFFFFF\"]];\n            o.find(\".note-holder-custom\").each(function (t, e) {\n              var o = k(e);\n              o.append(p.ui.palette({\n                colors: n,\n                colorsName: n,\n                eventName: o.data(\"event\"),\n                container: p.options.container,\n                tooltip: p.options.tooltip\n              }).render());\n            }), o.find(\"input[type=color]\").each(function (t, e) {\n              k(e).change(function () {\n                var t = o.find(\"#\" + k(this).data(\"event\")).find(\".note-color-btn\").first(),\n                    e = this.value.toUpperCase();\n                t.css(\"background-color\", e).attr(\"aria-label\", e).attr(\"data-value\", e).attr(\"data-original-title\", e), t.click();\n              });\n            });\n          },\n          click: function click(t) {\n            t.stopPropagation();\n            var e = k(\".\" + h),\n                o = k(t.target),\n                n = o.data(\"event\"),\n                i = o.attr(\"data-value\");\n\n            if (\"openPalette\" === n) {\n              var r = e.find(\"#\" + i),\n                  s = k(e.find(\"#\" + r.data(\"event\")).find(\".note-color-row\")[0]),\n                  a = s.find(\".note-color-btn\").last().detach(),\n                  l = r.val();\n              a.css(\"background-color\", l).attr(\"aria-label\", l).attr(\"data-value\", l).attr(\"data-original-title\", l), s.prepend(a), r.click();\n            } else if (N.contains([\"backColor\", \"foreColor\"], n)) {\n              var c = \"backColor\" === n ? \"background-color\" : \"color\",\n                  d = o.closest(\".note-color\").find(\".note-recent-color\"),\n                  u = o.closest(\".note-color\").find(\".note-current-color-button\");\n              d.css(c, i), u.attr(\"data-\" + n, i), p.context.invoke(\"editor.\" + n, i);\n            }\n          }\n        })]\n      }).render();\n    }, t.prototype.addToolbarButtons = function () {\n      var n = this;\n      this.context.memo(\"button.style\", function () {\n        return n.ui.buttonGroup([n.button({\n          className: \"dropdown-toggle\",\n          contents: n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.magic), n.options),\n          tooltip: n.lang.style.style,\n          data: {\n            toggle: \"dropdown\"\n          }\n        }), n.ui.dropdown({\n          className: \"dropdown-style\",\n          items: n.options.styleTags,\n          title: n.lang.style.style,\n          template: function template(t) {\n            \"string\" == typeof t && (t = {\n              tag: t,\n              title: n.lang.style.hasOwnProperty(t) ? n.lang.style[t] : t\n            });\n            var e = t.tag,\n                o = t.title;\n            return \"<\" + e + (t.style ? ' style=\"' + t.style + '\" ' : \"\") + (t.className ? ' class=\"' + t.className + '\"' : \"\") + \">\" + o + \"</\" + e + \">\";\n          },\n          click: n.context.createInvokeHandler(\"editor.formatBlock\")\n        })]).render();\n      });\n\n      for (var t = function t(_t3, e) {\n        var o = i.options.styleTags[_t3];\n        i.context.memo(\"button.style.\" + o, function () {\n          return n.button({\n            className: \"note-btn-style-\" + o,\n            contents: '<div data-value=\"' + o + '\">' + o.toUpperCase() + \"</div>\",\n            tooltip: n.lang.style[o],\n            click: n.context.createInvokeHandler(\"editor.formatBlock\")\n          }).render();\n        });\n      }, i = this, e = 0, o = this.options.styleTags.length; e < o; e++) {\n        t(e);\n      }\n\n      this.context.memo(\"button.bold\", function () {\n        return n.button({\n          className: \"note-btn-bold\",\n          contents: n.ui.icon(n.options.icons.bold),\n          tooltip: n.lang.font.bold + n.representShortcut(\"bold\"),\n          click: n.context.createInvokeHandlerAndUpdateState(\"editor.bold\")\n        }).render();\n      }), this.context.memo(\"button.italic\", function () {\n        return n.button({\n          className: \"note-btn-italic\",\n          contents: n.ui.icon(n.options.icons.italic),\n          tooltip: n.lang.font.italic + n.representShortcut(\"italic\"),\n          click: n.context.createInvokeHandlerAndUpdateState(\"editor.italic\")\n        }).render();\n      }), this.context.memo(\"button.underline\", function () {\n        return n.button({\n          className: \"note-btn-underline\",\n          contents: n.ui.icon(n.options.icons.underline),\n          tooltip: n.lang.font.underline + n.representShortcut(\"underline\"),\n          click: n.context.createInvokeHandlerAndUpdateState(\"editor.underline\")\n        }).render();\n      }), this.context.memo(\"button.clear\", function () {\n        return n.button({\n          contents: n.ui.icon(n.options.icons.eraser),\n          tooltip: n.lang.font.clear + n.representShortcut(\"removeFormat\"),\n          click: n.context.createInvokeHandler(\"editor.removeFormat\")\n        }).render();\n      }), this.context.memo(\"button.strikethrough\", function () {\n        return n.button({\n          className: \"note-btn-strikethrough\",\n          contents: n.ui.icon(n.options.icons.strikethrough),\n          tooltip: n.lang.font.strikethrough + n.representShortcut(\"strikethrough\"),\n          click: n.context.createInvokeHandlerAndUpdateState(\"editor.strikethrough\")\n        }).render();\n      }), this.context.memo(\"button.superscript\", function () {\n        return n.button({\n          className: \"note-btn-superscript\",\n          contents: n.ui.icon(n.options.icons.superscript),\n          tooltip: n.lang.font.superscript,\n          click: n.context.createInvokeHandlerAndUpdateState(\"editor.superscript\")\n        }).render();\n      }), this.context.memo(\"button.subscript\", function () {\n        return n.button({\n          className: \"note-btn-subscript\",\n          contents: n.ui.icon(n.options.icons.subscript),\n          tooltip: n.lang.font.subscript,\n          click: n.context.createInvokeHandlerAndUpdateState(\"editor.subscript\")\n        }).render();\n      }), this.context.memo(\"button.fontname\", function () {\n        var t = n.context.invoke(\"editor.currentStyle\");\n        return k.each(t[\"font-family\"].split(\",\"), function (t, e) {\n          e = e.trim().replace(/['\"]+/g, \"\"), n.isFontDeservedToAdd(e) && -1 === k.inArray(e, n.options.fontNames) && n.options.fontNames.push(e);\n        }), n.ui.buttonGroup([n.button({\n          className: \"dropdown-toggle\",\n          contents: n.ui.dropdownButtonContents('<span class=\"note-current-fontname\"/>', n.options),\n          tooltip: n.lang.font.name,\n          data: {\n            toggle: \"dropdown\"\n          }\n        }), n.ui.dropdownCheck({\n          className: \"dropdown-fontname\",\n          checkClassName: n.options.icons.menuCheck,\n          items: n.options.fontNames.filter(n.isFontInstalled.bind(n)),\n          title: n.lang.font.name,\n          template: function template(t) {\n            return \"<span style=\\\"font-family: '\" + t + \"'\\\">\" + t + \"</span>\";\n          },\n          click: n.context.createInvokeHandlerAndUpdateState(\"editor.fontName\")\n        })]).render();\n      }), this.context.memo(\"button.fontsize\", function () {\n        return n.ui.buttonGroup([n.button({\n          className: \"dropdown-toggle\",\n          contents: n.ui.dropdownButtonContents('<span class=\"note-current-fontsize\"/>', n.options),\n          tooltip: n.lang.font.size,\n          data: {\n            toggle: \"dropdown\"\n          }\n        }), n.ui.dropdownCheck({\n          className: \"dropdown-fontsize\",\n          checkClassName: n.options.icons.menuCheck,\n          items: n.options.fontSizes,\n          title: n.lang.font.size,\n          click: n.context.createInvokeHandlerAndUpdateState(\"editor.fontSize\")\n        })]).render();\n      }), this.context.memo(\"button.color\", function () {\n        return n.colorPalette(\"note-color-all\", n.lang.color.recent, !0, !0);\n      }), this.context.memo(\"button.forecolor\", function () {\n        return n.colorPalette(\"note-color-fore\", n.lang.color.foreground, !1, !0);\n      }), this.context.memo(\"button.backcolor\", function () {\n        return n.colorPalette(\"note-color-back\", n.lang.color.background, !0, !1);\n      }), this.context.memo(\"button.ul\", function () {\n        return n.button({\n          contents: n.ui.icon(n.options.icons.unorderedlist),\n          tooltip: n.lang.lists.unordered + n.representShortcut(\"insertUnorderedList\"),\n          click: n.context.createInvokeHandler(\"editor.insertUnorderedList\")\n        }).render();\n      }), this.context.memo(\"button.ol\", function () {\n        return n.button({\n          contents: n.ui.icon(n.options.icons.orderedlist),\n          tooltip: n.lang.lists.ordered + n.representShortcut(\"insertOrderedList\"),\n          click: n.context.createInvokeHandler(\"editor.insertOrderedList\")\n        }).render();\n      });\n      var r = this.button({\n        contents: this.ui.icon(this.options.icons.alignLeft),\n        tooltip: this.lang.paragraph.left + this.representShortcut(\"justifyLeft\"),\n        click: this.context.createInvokeHandler(\"editor.justifyLeft\")\n      }),\n          s = this.button({\n        contents: this.ui.icon(this.options.icons.alignCenter),\n        tooltip: this.lang.paragraph.center + this.representShortcut(\"justifyCenter\"),\n        click: this.context.createInvokeHandler(\"editor.justifyCenter\")\n      }),\n          a = this.button({\n        contents: this.ui.icon(this.options.icons.alignRight),\n        tooltip: this.lang.paragraph.right + this.representShortcut(\"justifyRight\"),\n        click: this.context.createInvokeHandler(\"editor.justifyRight\")\n      }),\n          l = this.button({\n        contents: this.ui.icon(this.options.icons.alignJustify),\n        tooltip: this.lang.paragraph.justify + this.representShortcut(\"justifyFull\"),\n        click: this.context.createInvokeHandler(\"editor.justifyFull\")\n      }),\n          c = this.button({\n        contents: this.ui.icon(this.options.icons.outdent),\n        tooltip: this.lang.paragraph.outdent + this.representShortcut(\"outdent\"),\n        click: this.context.createInvokeHandler(\"editor.outdent\")\n      }),\n          d = this.button({\n        contents: this.ui.icon(this.options.icons.indent),\n        tooltip: this.lang.paragraph.indent + this.representShortcut(\"indent\"),\n        click: this.context.createInvokeHandler(\"editor.indent\")\n      });\n      this.context.memo(\"button.justifyLeft\", C.invoke(r, \"render\")), this.context.memo(\"button.justifyCenter\", C.invoke(s, \"render\")), this.context.memo(\"button.justifyRight\", C.invoke(a, \"render\")), this.context.memo(\"button.justifyFull\", C.invoke(l, \"render\")), this.context.memo(\"button.outdent\", C.invoke(c, \"render\")), this.context.memo(\"button.indent\", C.invoke(d, \"render\")), this.context.memo(\"button.paragraph\", function () {\n        return n.ui.buttonGroup([n.button({\n          className: \"dropdown-toggle\",\n          contents: n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.alignLeft), n.options),\n          tooltip: n.lang.paragraph.paragraph,\n          data: {\n            toggle: \"dropdown\"\n          }\n        }), n.ui.dropdown([n.ui.buttonGroup({\n          className: \"note-align\",\n          children: [r, s, a, l]\n        }), n.ui.buttonGroup({\n          className: \"note-list\",\n          children: [c, d]\n        })])]).render();\n      }), this.context.memo(\"button.height\", function () {\n        return n.ui.buttonGroup([n.button({\n          className: \"dropdown-toggle\",\n          contents: n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.textHeight), n.options),\n          tooltip: n.lang.font.height,\n          data: {\n            toggle: \"dropdown\"\n          }\n        }), n.ui.dropdownCheck({\n          items: n.options.lineHeights,\n          checkClassName: n.options.icons.menuCheck,\n          className: \"dropdown-line-height\",\n          title: n.lang.font.height,\n          click: n.context.createInvokeHandler(\"editor.lineHeight\")\n        })]).render();\n      }), this.context.memo(\"button.table\", function () {\n        return n.ui.buttonGroup([n.button({\n          className: \"dropdown-toggle\",\n          contents: n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.table), n.options),\n          tooltip: n.lang.table.table,\n          data: {\n            toggle: \"dropdown\"\n          }\n        }), n.ui.dropdown({\n          title: n.lang.table.table,\n          className: \"note-table\",\n          items: ['<div class=\"note-dimension-picker\">', '  <div class=\"note-dimension-picker-mousecatcher\" data-event=\"insertTable\" data-value=\"1x1\"/>', '  <div class=\"note-dimension-picker-highlighted\"/>', '  <div class=\"note-dimension-picker-unhighlighted\"/>', \"</div>\", '<div class=\"note-dimension-display\">1 x 1</div>'].join(\"\")\n        })], {\n          callback: function callback(t) {\n            t.find(\".note-dimension-picker-mousecatcher\").css({\n              width: n.options.insertTableMaxSize.col + \"em\",\n              height: n.options.insertTableMaxSize.row + \"em\"\n            }).mousedown(n.context.createInvokeHandler(\"editor.insertTable\")).on(\"mousemove\", n.tableMoveHandler.bind(n));\n          }\n        }).render();\n      }), this.context.memo(\"button.link\", function () {\n        return n.button({\n          contents: n.ui.icon(n.options.icons.link),\n          tooltip: n.lang.link.link + n.representShortcut(\"linkDialog.show\"),\n          click: n.context.createInvokeHandler(\"linkDialog.show\")\n        }).render();\n      }), this.context.memo(\"button.picture\", function () {\n        return n.button({\n          contents: n.ui.icon(n.options.icons.picture),\n          tooltip: n.lang.image.image,\n          click: n.context.createInvokeHandler(\"imageDialog.show\")\n        }).render();\n      }), this.context.memo(\"button.video\", function () {\n        return n.button({\n          contents: n.ui.icon(n.options.icons.video),\n          tooltip: n.lang.video.video,\n          click: n.context.createInvokeHandler(\"videoDialog.show\")\n        }).render();\n      }), this.context.memo(\"button.hr\", function () {\n        return n.button({\n          contents: n.ui.icon(n.options.icons.minus),\n          tooltip: n.lang.hr.insert + n.representShortcut(\"insertHorizontalRule\"),\n          click: n.context.createInvokeHandler(\"editor.insertHorizontalRule\")\n        }).render();\n      }), this.context.memo(\"button.fullscreen\", function () {\n        return n.button({\n          className: \"btn-fullscreen\",\n          contents: n.ui.icon(n.options.icons.arrowsAlt),\n          tooltip: n.lang.options.fullscreen,\n          click: n.context.createInvokeHandler(\"fullscreen.toggle\")\n        }).render();\n      }), this.context.memo(\"button.codeview\", function () {\n        return n.button({\n          className: \"btn-codeview\",\n          contents: n.ui.icon(n.options.icons.code),\n          tooltip: n.lang.options.codeview,\n          click: n.context.createInvokeHandler(\"codeview.toggle\")\n        }).render();\n      }), this.context.memo(\"button.redo\", function () {\n        return n.button({\n          contents: n.ui.icon(n.options.icons.redo),\n          tooltip: n.lang.history.redo + n.representShortcut(\"redo\"),\n          click: n.context.createInvokeHandler(\"editor.redo\")\n        }).render();\n      }), this.context.memo(\"button.undo\", function () {\n        return n.button({\n          contents: n.ui.icon(n.options.icons.undo),\n          tooltip: n.lang.history.undo + n.representShortcut(\"undo\"),\n          click: n.context.createInvokeHandler(\"editor.undo\")\n        }).render();\n      }), this.context.memo(\"button.help\", function () {\n        return n.button({\n          contents: n.ui.icon(n.options.icons.question),\n          tooltip: n.lang.options.help,\n          click: n.context.createInvokeHandler(\"helpDialog.show\")\n        }).render();\n      });\n    }, t.prototype.addImagePopoverButtons = function () {\n      var t = this;\n      this.context.memo(\"button.imageSize100\", function () {\n        return t.button({\n          contents: '<span class=\"note-fontsize-10\">100%</span>',\n          tooltip: t.lang.image.resizeFull,\n          click: t.context.createInvokeHandler(\"editor.resize\", \"1\")\n        }).render();\n      }), this.context.memo(\"button.imageSize50\", function () {\n        return t.button({\n          contents: '<span class=\"note-fontsize-10\">50%</span>',\n          tooltip: t.lang.image.resizeHalf,\n          click: t.context.createInvokeHandler(\"editor.resize\", \"0.5\")\n        }).render();\n      }), this.context.memo(\"button.imageSize25\", function () {\n        return t.button({\n          contents: '<span class=\"note-fontsize-10\">25%</span>',\n          tooltip: t.lang.image.resizeQuarter,\n          click: t.context.createInvokeHandler(\"editor.resize\", \"0.25\")\n        }).render();\n      }), this.context.memo(\"button.floatLeft\", function () {\n        return t.button({\n          contents: t.ui.icon(t.options.icons.alignLeft),\n          tooltip: t.lang.image.floatLeft,\n          click: t.context.createInvokeHandler(\"editor.floatMe\", \"left\")\n        }).render();\n      }), this.context.memo(\"button.floatRight\", function () {\n        return t.button({\n          contents: t.ui.icon(t.options.icons.alignRight),\n          tooltip: t.lang.image.floatRight,\n          click: t.context.createInvokeHandler(\"editor.floatMe\", \"right\")\n        }).render();\n      }), this.context.memo(\"button.floatNone\", function () {\n        return t.button({\n          contents: t.ui.icon(t.options.icons.alignJustify),\n          tooltip: t.lang.image.floatNone,\n          click: t.context.createInvokeHandler(\"editor.floatMe\", \"none\")\n        }).render();\n      }), this.context.memo(\"button.removeMedia\", function () {\n        return t.button({\n          contents: t.ui.icon(t.options.icons.trash),\n          tooltip: t.lang.image.remove,\n          click: t.context.createInvokeHandler(\"editor.removeMedia\")\n        }).render();\n      });\n    }, t.prototype.addLinkPopoverButtons = function () {\n      var t = this;\n      this.context.memo(\"button.linkDialogShow\", function () {\n        return t.button({\n          contents: t.ui.icon(t.options.icons.link),\n          tooltip: t.lang.link.edit,\n          click: t.context.createInvokeHandler(\"linkDialog.show\")\n        }).render();\n      }), this.context.memo(\"button.unlink\", function () {\n        return t.button({\n          contents: t.ui.icon(t.options.icons.unlink),\n          tooltip: t.lang.link.unlink,\n          click: t.context.createInvokeHandler(\"editor.unlink\")\n        }).render();\n      });\n    }, t.prototype.addTablePopoverButtons = function () {\n      var t = this;\n      this.context.memo(\"button.addRowUp\", function () {\n        return t.button({\n          className: \"btn-md\",\n          contents: t.ui.icon(t.options.icons.rowAbove),\n          tooltip: t.lang.table.addRowAbove,\n          click: t.context.createInvokeHandler(\"editor.addRow\", \"top\")\n        }).render();\n      }), this.context.memo(\"button.addRowDown\", function () {\n        return t.button({\n          className: \"btn-md\",\n          contents: t.ui.icon(t.options.icons.rowBelow),\n          tooltip: t.lang.table.addRowBelow,\n          click: t.context.createInvokeHandler(\"editor.addRow\", \"bottom\")\n        }).render();\n      }), this.context.memo(\"button.addColLeft\", function () {\n        return t.button({\n          className: \"btn-md\",\n          contents: t.ui.icon(t.options.icons.colBefore),\n          tooltip: t.lang.table.addColLeft,\n          click: t.context.createInvokeHandler(\"editor.addCol\", \"left\")\n        }).render();\n      }), this.context.memo(\"button.addColRight\", function () {\n        return t.button({\n          className: \"btn-md\",\n          contents: t.ui.icon(t.options.icons.colAfter),\n          tooltip: t.lang.table.addColRight,\n          click: t.context.createInvokeHandler(\"editor.addCol\", \"right\")\n        }).render();\n      }), this.context.memo(\"button.deleteRow\", function () {\n        return t.button({\n          className: \"btn-md\",\n          contents: t.ui.icon(t.options.icons.rowRemove),\n          tooltip: t.lang.table.delRow,\n          click: t.context.createInvokeHandler(\"editor.deleteRow\")\n        }).render();\n      }), this.context.memo(\"button.deleteCol\", function () {\n        return t.button({\n          className: \"btn-md\",\n          contents: t.ui.icon(t.options.icons.colRemove),\n          tooltip: t.lang.table.delCol,\n          click: t.context.createInvokeHandler(\"editor.deleteCol\")\n        }).render();\n      }), this.context.memo(\"button.deleteTable\", function () {\n        return t.button({\n          className: \"btn-md\",\n          contents: t.ui.icon(t.options.icons.trash),\n          tooltip: t.lang.table.delTable,\n          click: t.context.createInvokeHandler(\"editor.deleteTable\")\n        }).render();\n      });\n    }, t.prototype.build = function (t, e) {\n      for (var o = 0, n = e.length; o < n; o++) {\n        for (var i = e[o], r = k.isArray(i) ? i[0] : i, s = k.isArray(i) ? 1 === i.length ? [i[0]] : i[1] : [i], a = this.ui.buttonGroup({\n          className: \"note-\" + r\n        }).render(), l = 0, c = s.length; l < c; l++) {\n          var d = this.context.memo(\"button.\" + s[l]);\n          d && a.append(\"function\" == typeof d ? d(this.context) : d);\n        }\n\n        a.appendTo(t);\n      }\n    }, t.prototype.updateCurrentStyle = function (t) {\n      var n = this,\n          e = t || this.$toolbar,\n          o = this.context.invoke(\"editor.currentStyle\");\n\n      if (this.updateBtnStates(e, {\n        \".note-btn-bold\": function noteBtnBold() {\n          return \"bold\" === o[\"font-bold\"];\n        },\n        \".note-btn-italic\": function noteBtnItalic() {\n          return \"italic\" === o[\"font-italic\"];\n        },\n        \".note-btn-underline\": function noteBtnUnderline() {\n          return \"underline\" === o[\"font-underline\"];\n        },\n        \".note-btn-subscript\": function noteBtnSubscript() {\n          return \"subscript\" === o[\"font-subscript\"];\n        },\n        \".note-btn-superscript\": function noteBtnSuperscript() {\n          return \"superscript\" === o[\"font-superscript\"];\n        },\n        \".note-btn-strikethrough\": function noteBtnStrikethrough() {\n          return \"strikethrough\" === o[\"font-strikethrough\"];\n        }\n      }), o[\"font-family\"]) {\n        var i = o[\"font-family\"].split(\",\").map(function (t) {\n          return t.replace(/[\\'\\\"]/g, \"\").replace(/\\s+$/, \"\").replace(/^\\s+/, \"\");\n        }),\n            r = N.find(i, this.isFontInstalled.bind(this));\n        e.find(\".dropdown-fontname a\").each(function (t, e) {\n          var o = k(e),\n              n = o.data(\"value\") + \"\" == r + \"\";\n          o.toggleClass(\"checked\", n);\n        }), e.find(\".note-current-fontname\").text(r).css(\"font-family\", r);\n      }\n\n      if (o[\"font-size\"]) {\n        var s = o[\"font-size\"];\n        e.find(\".dropdown-fontsize a\").each(function (t, e) {\n          var o = k(e),\n              n = o.data(\"value\") + \"\" == s + \"\";\n          o.toggleClass(\"checked\", n);\n        }), e.find(\".note-current-fontsize\").text(s);\n      }\n\n      if (o[\"line-height\"]) {\n        var a = o[\"line-height\"];\n        e.find(\".dropdown-line-height li a\").each(function (t, e) {\n          var o = k(e).data(\"value\") + \"\" == a + \"\";\n          n.className = o ? \"checked\" : \"\";\n        });\n      }\n    }, t.prototype.updateBtnStates = function (o, t) {\n      var n = this;\n      k.each(t, function (t, e) {\n        n.ui.toggleBtnActive(o.find(t), e());\n      });\n    }, t.prototype.tableMoveHandler = function (t) {\n      var e,\n          o = k(t.target.parentNode),\n          n = o.next(),\n          i = o.find(\".note-dimension-picker-mousecatcher\"),\n          r = o.find(\".note-dimension-picker-highlighted\"),\n          s = o.find(\".note-dimension-picker-unhighlighted\");\n\n      if (void 0 === t.offsetX) {\n        var a = k(t.target).offset();\n        e = {\n          x: t.pageX - a.left,\n          y: t.pageY - a.top\n        };\n      } else e = {\n        x: t.offsetX,\n        y: t.offsetY\n      };\n\n      var l = Math.ceil(e.x / 18) || 1,\n          c = Math.ceil(e.y / 18) || 1;\n      r.css({\n        width: l + \"em\",\n        height: c + \"em\"\n      }), i.data(\"value\", l + \"x\" + c), 3 < l && l < this.options.insertTableMaxSize.col && s.css({\n        width: l + 1 + \"em\"\n      }), 3 < c && c < this.options.insertTableMaxSize.row && s.css({\n        height: c + 1 + \"em\"\n      }), n.html(l + \" x \" + c);\n    }, t;\n  }(),\n      te = function () {\n    function t(t) {\n      this.context = t, this.$window = k(window), this.$document = k(document), this.ui = k.summernote.ui, this.$note = t.layoutInfo.note, this.$editor = t.layoutInfo.editor, this.$toolbar = t.layoutInfo.toolbar, this.options = t.options, this.followScroll = this.followScroll.bind(this);\n    }\n\n    return t.prototype.shouldInitialize = function () {\n      return !this.options.airMode;\n    }, t.prototype.initialize = function () {\n      var t = this;\n      this.options.toolbar = this.options.toolbar || [], this.options.toolbar.length ? this.context.invoke(\"buttons.build\", this.$toolbar, this.options.toolbar) : this.$toolbar.hide(), this.options.toolbarContainer && this.$toolbar.appendTo(this.options.toolbarContainer), this.changeContainer(!1), this.$note.on(\"summernote.keyup summernote.mouseup summernote.change\", function () {\n        t.context.invoke(\"buttons.updateCurrentStyle\");\n      }), this.context.invoke(\"buttons.updateCurrentStyle\"), this.options.followingToolbar && this.$window.on(\"scroll resize\", this.followScroll);\n    }, t.prototype.destroy = function () {\n      this.$toolbar.children().remove(), this.options.followingToolbar && this.$window.off(\"scroll resize\", this.followScroll);\n    }, t.prototype.followScroll = function () {\n      if (this.$editor.hasClass(\"fullscreen\")) return !1;\n      var t = this.$toolbar.parent(\".note-toolbar-wrapper\"),\n          e = this.$editor.outerHeight(),\n          o = this.$editor.width(),\n          n = this.$toolbar.height();\n      t.css({\n        height: n\n      });\n      var i = 0;\n      this.options.otherStaticBar && (i = k(this.options.otherStaticBar).outerHeight());\n      var r = this.$document.scrollTop(),\n          s = this.$editor.offset().top;\n      s - i < r && r < s + e - i - n ? this.$toolbar.css({\n        position: \"fixed\",\n        top: i,\n        width: o\n      }) : this.$toolbar.css({\n        position: \"relative\",\n        top: 0,\n        width: \"100%\"\n      });\n    }, t.prototype.changeContainer = function (t) {\n      t ? this.$toolbar.prependTo(this.$editor) : this.options.toolbarContainer && this.$toolbar.appendTo(this.options.toolbarContainer);\n    }, t.prototype.updateFullscreen = function (t) {\n      this.ui.toggleBtnActive(this.$toolbar.find(\".btn-fullscreen\"), t), this.changeContainer(t);\n    }, t.prototype.updateCodeview = function (t) {\n      this.ui.toggleBtnActive(this.$toolbar.find(\".btn-codeview\"), t), t ? this.deactivate() : this.activate();\n    }, t.prototype.activate = function (t) {\n      var e = this.$toolbar.find(\"button\");\n      t || (e = e.not(\".btn-codeview\")), this.ui.toggleBtn(e, !0);\n    }, t.prototype.deactivate = function (t) {\n      var e = this.$toolbar.find(\"button\");\n      t || (e = e.not(\".btn-codeview\")), this.ui.toggleBtn(e, !1);\n    }, t;\n  }(),\n      ee = function () {\n    function t(t) {\n      this.context = t, this.ui = k.summernote.ui, this.$body = k(document.body), this.$editor = t.layoutInfo.editor, this.options = t.options, this.lang = this.options.langInfo, t.memo(\"help.linkDialog.show\", this.options.langInfo.help[\"linkDialog.show\"]);\n    }\n\n    return t.prototype.initialize = function () {\n      var t = this.options.dialogsInBody ? this.$body : this.$editor,\n          e = ['<div class=\"form-group note-form-group\">', '<label class=\"note-form-label\">' + this.lang.link.textToDisplay + \"</label>\", '<input class=\"note-link-text form-control note-form-control note-input\" type=\"text\" />', \"</div>\", '<div class=\"form-group note-form-group\">', '<label class=\"note-form-label\">' + this.lang.link.url + \"</label>\", '<input class=\"note-link-url form-control note-form-control note-input\" type=\"text\" value=\"http://\" />', \"</div>\", this.options.disableLinkTarget ? \"\" : k(\"<div/>\").append(this.ui.checkbox({\n        className: \"sn-checkbox-open-in-new-window\",\n        text: this.lang.link.openInNewWindow,\n        checked: !0\n      }).render()).html()].join(\"\"),\n          o = '<input type=\"button\" href=\"#\" class=\"btn btn-primary note-btn note-btn-primary note-link-btn\" value=\"' + this.lang.link.insert + '\" disabled>';\n      this.$dialog = this.ui.dialog({\n        className: \"link-dialog\",\n        title: this.lang.link.insert,\n        fade: this.options.dialogsFade,\n        body: e,\n        footer: o\n      }).render().appendTo(t);\n    }, t.prototype.destroy = function () {\n      this.ui.hideDialog(this.$dialog), this.$dialog.remove();\n    }, t.prototype.bindEnterKey = function (t, e) {\n      t.on(\"keypress\", function (t) {\n        t.keyCode === Lt.code.ENTER && (t.preventDefault(), e.trigger(\"click\"));\n      });\n    }, t.prototype.toggleLinkBtn = function (t, e, o) {\n      this.ui.toggleBtn(t, e.val() && o.val());\n    }, t.prototype.showLinkDialog = function (l) {\n      var c = this;\n      return k.Deferred(function (n) {\n        var i = c.$dialog.find(\".note-link-text\"),\n            r = c.$dialog.find(\".note-link-url\"),\n            s = c.$dialog.find(\".note-link-btn\"),\n            a = c.$dialog.find(\".sn-checkbox-open-in-new-window input[type=checkbox]\");\n        c.ui.onDialogShown(c.$dialog, function () {\n          c.context.triggerEvent(\"dialog.shown\"), l.url || (l.url = l.text), i.val(l.text);\n\n          var t = function t() {\n            c.toggleLinkBtn(s, i, r), l.text = i.val();\n          };\n\n          i.on(\"input\", t).on(\"paste\", function () {\n            setTimeout(t, 0);\n          });\n\n          var e = function e() {\n            c.toggleLinkBtn(s, i, r), l.text || i.val(r.val());\n          };\n\n          r.on(\"input\", e).on(\"paste\", function () {\n            setTimeout(e, 0);\n          }).val(l.url), z.isSupportTouch || r.trigger(\"focus\"), c.toggleLinkBtn(s, i, r), c.bindEnterKey(r, s), c.bindEnterKey(i, s);\n          var o = void 0 !== l.isNewWindow ? l.isNewWindow : c.context.options.linkTargetBlank;\n          a.prop(\"checked\", o), s.one(\"click\", function (t) {\n            t.preventDefault(), n.resolve({\n              range: l.range,\n              url: r.val(),\n              text: i.val(),\n              isNewWindow: a.is(\":checked\")\n            }), c.ui.hideDialog(c.$dialog);\n          });\n        }), c.ui.onDialogHidden(c.$dialog, function () {\n          i.off(\"input paste keypress\"), r.off(\"input paste keypress\"), s.off(\"click\"), \"pending\" === n.state() && n.reject();\n        }), c.ui.showDialog(c.$dialog);\n      }).promise();\n    }, t.prototype.show = function () {\n      var e = this,\n          t = this.context.invoke(\"editor.getLinkInfo\");\n      this.context.invoke(\"editor.saveRange\"), this.showLinkDialog(t).then(function (t) {\n        e.context.invoke(\"editor.restoreRange\"), e.context.invoke(\"editor.createLink\", t);\n      }).fail(function () {\n        e.context.invoke(\"editor.restoreRange\");\n      });\n    }, t;\n  }(),\n      oe = function () {\n    function t(t) {\n      var e = this;\n      this.context = t, this.ui = k.summernote.ui, this.options = t.options, this.events = {\n        \"summernote.keyup summernote.mouseup summernote.change summernote.scroll\": function summernoteKeyupSummernoteMouseupSummernoteChangeSummernoteScroll() {\n          e.update();\n        },\n        \"summernote.disable summernote.dialog.shown\": function summernoteDisableSummernoteDialogShown() {\n          e.hide();\n        }\n      };\n    }\n\n    return t.prototype.shouldInitialize = function () {\n      return !N.isEmpty(this.options.popover.link);\n    }, t.prototype.initialize = function () {\n      this.$popover = this.ui.popover({\n        className: \"note-link-popover\",\n        callback: function callback(t) {\n          t.find(\".popover-content,.note-popover-content\").prepend('<span><a target=\"_blank\"></a>&nbsp;</span>');\n        }\n      }).render().appendTo(this.options.container);\n      var t = this.$popover.find(\".popover-content,.note-popover-content\");\n      this.context.invoke(\"buttons.build\", t, this.options.popover.link);\n    }, t.prototype.destroy = function () {\n      this.$popover.remove();\n    }, t.prototype.update = function () {\n      if (this.context.invoke(\"editor.hasFocus\")) {\n        var t = this.context.invoke(\"editor.createRange\");\n\n        if (t.isCollapsed() && t.isOnAnchor()) {\n          var e = Nt.ancestor(t.sc, Nt.isAnchor),\n              o = k(e).attr(\"href\");\n          this.$popover.find(\"a\").attr(\"href\", o).html(o);\n          var n = Nt.posFromPlaceholder(e);\n          this.$popover.css({\n            display: \"block\",\n            left: n.left,\n            top: n.top\n          });\n        } else this.hide();\n      } else this.hide();\n    }, t.prototype.hide = function () {\n      this.$popover.hide();\n    }, t;\n  }(),\n      ne = function () {\n    function t(t) {\n      this.context = t, this.ui = k.summernote.ui, this.$body = k(document.body), this.$editor = t.layoutInfo.editor, this.options = t.options, this.lang = this.options.langInfo;\n    }\n\n    return t.prototype.initialize = function () {\n      var t = this.options.dialogsInBody ? this.$body : this.$editor,\n          e = \"\";\n\n      if (this.options.maximumImageFileSize) {\n        var o = Math.floor(Math.log(this.options.maximumImageFileSize) / Math.log(1024)),\n            n = 1 * (this.options.maximumImageFileSize / Math.pow(1024, o)).toFixed(2) + \" \" + \" KMGTP\"[o] + \"B\";\n        e = \"<small>\" + this.lang.image.maximumFileSize + \" : \" + n + \"</small>\";\n      }\n\n      var i = ['<div class=\"form-group note-form-group note-group-select-from-files\">', '<label class=\"note-form-label\">' + this.lang.image.selectFromFiles + \"</label>\", '<input class=\"note-image-input note-form-control note-input\" ', ' type=\"file\" name=\"files\" accept=\"image/*\" multiple=\"multiple\" />', e, \"</div>\", '<div class=\"form-group note-group-image-url\" style=\"overflow:auto;\">', '<label class=\"note-form-label\">' + this.lang.image.url + \"</label>\", '<input class=\"note-image-url form-control note-form-control note-input ', ' col-md-12\" type=\"text\" />', \"</div>\"].join(\"\"),\n          r = '<input type=\"button\" href=\"#\" class=\"btn btn-primary note-btn note-btn-primary note-image-btn\" value=\"' + this.lang.image.insert + '\" disabled>';\n      this.$dialog = this.ui.dialog({\n        title: this.lang.image.insert,\n        fade: this.options.dialogsFade,\n        body: i,\n        footer: r\n      }).render().appendTo(t);\n    }, t.prototype.destroy = function () {\n      this.ui.hideDialog(this.$dialog), this.$dialog.remove();\n    }, t.prototype.bindEnterKey = function (t, e) {\n      t.on(\"keypress\", function (t) {\n        t.keyCode === Lt.code.ENTER && (t.preventDefault(), e.trigger(\"click\"));\n      });\n    }, t.prototype.show = function () {\n      var e = this;\n      this.context.invoke(\"editor.saveRange\"), this.showImageDialog().then(function (t) {\n        e.ui.hideDialog(e.$dialog), e.context.invoke(\"editor.restoreRange\"), \"string\" == typeof t ? e.options.callbacks.onImageLinkInsert ? e.context.triggerEvent(\"image.link.insert\", t) : e.context.invoke(\"editor.insertImage\", t) : e.options.callbacks.onImageUpload ? e.context.triggerEvent(\"image.upload\", t) : e.context.invoke(\"editor.insertImagesAsDataURL\", t);\n      }).fail(function () {\n        e.context.invoke(\"editor.restoreRange\");\n      });\n    }, t.prototype.showImageDialog = function () {\n      var i = this;\n      return k.Deferred(function (e) {\n        var t = i.$dialog.find(\".note-image-input\"),\n            o = i.$dialog.find(\".note-image-url\"),\n            n = i.$dialog.find(\".note-image-btn\");\n        i.ui.onDialogShown(i.$dialog, function () {\n          i.context.triggerEvent(\"dialog.shown\"), t.replaceWith(t.clone().on(\"change\", function (t) {\n            e.resolve(t.target.files || t.target.value);\n          }).val(\"\")), n.click(function (t) {\n            t.preventDefault(), e.resolve(o.val());\n          }), o.on(\"keyup paste\", function () {\n            var t = o.val();\n            i.ui.toggleBtn(n, t);\n          }).val(\"\"), z.isSupportTouch || o.trigger(\"focus\"), i.bindEnterKey(o, n);\n        }), i.ui.onDialogHidden(i.$dialog, function () {\n          t.off(\"change\"), o.off(\"keyup paste keypress\"), n.off(\"click\"), \"pending\" === e.state() && e.reject();\n        }), i.ui.showDialog(i.$dialog);\n      });\n    }, t;\n  }(),\n      ie = function () {\n    function t(t) {\n      var e = this;\n      this.context = t, this.ui = k.summernote.ui, this.editable = t.layoutInfo.editable[0], this.options = t.options, this.events = {\n        \"summernote.disable\": function summernoteDisable() {\n          e.hide();\n        }\n      };\n    }\n\n    return t.prototype.shouldInitialize = function () {\n      return !N.isEmpty(this.options.popover.image);\n    }, t.prototype.initialize = function () {\n      this.$popover = this.ui.popover({\n        className: \"note-image-popover\"\n      }).render().appendTo(this.options.container);\n      var t = this.$popover.find(\".popover-content,.note-popover-content\");\n      this.context.invoke(\"buttons.build\", t, this.options.popover.image);\n    }, t.prototype.destroy = function () {\n      this.$popover.remove();\n    }, t.prototype.update = function (t) {\n      if (Nt.isImg(t)) {\n        var e = Nt.posFromPlaceholder(t),\n            o = Nt.posFromPlaceholder(this.editable);\n        this.$popover.css({\n          display: \"block\",\n          left: this.options.popatmouse ? event.pageX - 20 : e.left,\n          top: this.options.popatmouse ? event.pageY : Math.min(e.top, o.top)\n        });\n      } else this.hide();\n    }, t.prototype.hide = function () {\n      this.$popover.hide();\n    }, t;\n  }(),\n      re = function () {\n    function t(t) {\n      var o = this;\n      this.context = t, this.ui = k.summernote.ui, this.options = t.options, this.events = {\n        \"summernote.mousedown\": function summernoteMousedown(t, e) {\n          o.update(e.target);\n        },\n        \"summernote.keyup summernote.scroll summernote.change\": function summernoteKeyupSummernoteScrollSummernoteChange() {\n          o.update();\n        },\n        \"summernote.disable\": function summernoteDisable() {\n          o.hide();\n        }\n      };\n    }\n\n    return t.prototype.shouldInitialize = function () {\n      return !N.isEmpty(this.options.popover.table);\n    }, t.prototype.initialize = function () {\n      this.$popover = this.ui.popover({\n        className: \"note-table-popover\"\n      }).render().appendTo(this.options.container);\n      var t = this.$popover.find(\".popover-content,.note-popover-content\");\n      this.context.invoke(\"buttons.build\", t, this.options.popover.table), z.isFF && document.execCommand(\"enableInlineTableEditing\", !1, !1);\n    }, t.prototype.destroy = function () {\n      this.$popover.remove();\n    }, t.prototype.update = function (t) {\n      if (this.context.isDisabled()) return !1;\n      var e = Nt.isCell(t);\n\n      if (e) {\n        var o = Nt.posFromPlaceholder(t);\n        this.$popover.css({\n          display: \"block\",\n          left: o.left,\n          top: o.top\n        });\n      } else this.hide();\n\n      return e;\n    }, t.prototype.hide = function () {\n      this.$popover.hide();\n    }, t;\n  }(),\n      se = function () {\n    function t(t) {\n      this.context = t, this.ui = k.summernote.ui, this.$body = k(document.body), this.$editor = t.layoutInfo.editor, this.options = t.options, this.lang = this.options.langInfo;\n    }\n\n    return t.prototype.initialize = function () {\n      var t = this.options.dialogsInBody ? this.$body : this.$editor,\n          e = ['<div class=\"form-group note-form-group row-fluid\">', '<label class=\"note-form-label\">' + this.lang.video.url + ' <small class=\"text-muted\">' + this.lang.video.providers + \"</small></label>\", '<input class=\"note-video-url form-control note-form-control note-input\" type=\"text\" />', \"</div>\"].join(\"\"),\n          o = '<input type=\"button\" href=\"#\" class=\"btn btn-primary note-btn note-btn-primary note-video-btn\" value=\"' + this.lang.video.insert + '\" disabled>';\n      this.$dialog = this.ui.dialog({\n        title: this.lang.video.insert,\n        fade: this.options.dialogsFade,\n        body: e,\n        footer: o\n      }).render().appendTo(t);\n    }, t.prototype.destroy = function () {\n      this.ui.hideDialog(this.$dialog), this.$dialog.remove();\n    }, t.prototype.bindEnterKey = function (t, e) {\n      t.on(\"keypress\", function (t) {\n        t.keyCode === Lt.code.ENTER && (t.preventDefault(), e.trigger(\"click\"));\n      });\n    }, t.prototype.createVideoNode = function (t) {\n      var e,\n          o = t.match(/\\/\\/(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))([\\w|-]{11})(?:(?:[\\?&]t=)(\\S+))?$/),\n          n = t.match(/(?:www\\.|\\/\\/)instagram\\.com\\/p\\/(.[a-zA-Z0-9_-]*)/),\n          i = t.match(/\\/\\/vine\\.co\\/v\\/([a-zA-Z0-9]+)/),\n          r = t.match(/\\/\\/(player\\.)?vimeo\\.com\\/([a-z]*\\/)*(\\d+)[?]?.*/),\n          s = t.match(/.+dailymotion.com\\/(video|hub)\\/([^_]+)[^#]*(#video=([^_&]+))?/),\n          a = t.match(/\\/\\/v\\.youku\\.com\\/v_show\\/id_(\\w+)=*\\.html/),\n          l = t.match(/\\/\\/v\\.qq\\.com.*?vid=(.+)/),\n          c = t.match(/\\/\\/v\\.qq\\.com\\/x?\\/?(page|cover).*?\\/([^\\/]+)\\.html\\??.*/),\n          d = t.match(/^.+.(mp4|m4v)$/),\n          u = t.match(/^.+.(ogg|ogv)$/),\n          h = t.match(/^.+.(webm)$/);\n\n      if (o && 11 === o[1].length) {\n        var p = o[1],\n            f = 0;\n\n        if (void 0 !== o[2]) {\n          var m = o[2].match(/^(?:(\\d+)h)?(?:(\\d+)m)?(?:(\\d+)s)?$/);\n          if (m) for (var g = [3600, 60, 1], v = 0, b = g.length; v < b; v++) {\n            f += void 0 !== m[v + 1] ? g[v] * parseInt(m[v + 1], 10) : 0;\n          }\n        }\n\n        e = k(\"<iframe>\").attr(\"frameborder\", 0).attr(\"src\", \"//www.youtube.com/embed/\" + p + (0 < f ? \"?start=\" + f : \"\")).attr(\"width\", \"640\").attr(\"height\", \"360\");\n      } else if (n && n[0].length) e = k(\"<iframe>\").attr(\"frameborder\", 0).attr(\"src\", \"https://instagram.com/p/\" + n[1] + \"/embed/\").attr(\"width\", \"612\").attr(\"height\", \"710\").attr(\"scrolling\", \"no\").attr(\"allowtransparency\", \"true\");else if (i && i[0].length) e = k(\"<iframe>\").attr(\"frameborder\", 0).attr(\"src\", i[0] + \"/embed/simple\").attr(\"width\", \"600\").attr(\"height\", \"600\").attr(\"class\", \"vine-embed\");else if (r && r[3].length) e = k(\"<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>\").attr(\"frameborder\", 0).attr(\"src\", \"//player.vimeo.com/video/\" + r[3]).attr(\"width\", \"640\").attr(\"height\", \"360\");else if (s && s[2].length) e = k(\"<iframe>\").attr(\"frameborder\", 0).attr(\"src\", \"//www.dailymotion.com/embed/video/\" + s[2]).attr(\"width\", \"640\").attr(\"height\", \"360\");else if (a && a[1].length) e = k(\"<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>\").attr(\"frameborder\", 0).attr(\"height\", \"498\").attr(\"width\", \"510\").attr(\"src\", \"//player.youku.com/embed/\" + a[1]);else if (l && l[1].length || c && c[2].length) {\n        var y = l && l[1].length ? l[1] : c[2];\n        e = k(\"<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>\").attr(\"frameborder\", 0).attr(\"height\", \"310\").attr(\"width\", \"500\").attr(\"src\", \"http://v.qq.com/iframe/player.html?vid=\" + y + \"&amp;auto=0\");\n      } else {\n        if (!(d || u || h)) return !1;\n        e = k(\"<video controls>\").attr(\"src\", t).attr(\"width\", \"640\").attr(\"height\", \"360\");\n      }\n\n      return e.addClass(\"note-video-clip\"), e[0];\n    }, t.prototype.show = function () {\n      var o = this,\n          t = this.context.invoke(\"editor.getSelectedText\");\n      this.context.invoke(\"editor.saveRange\"), this.showVideoDialog(t).then(function (t) {\n        o.ui.hideDialog(o.$dialog), o.context.invoke(\"editor.restoreRange\");\n        var e = o.createVideoNode(t);\n        e && o.context.invoke(\"editor.insertNode\", e);\n      }).fail(function () {\n        o.context.invoke(\"editor.restoreRange\");\n      });\n    }, t.prototype.showVideoDialog = function (n) {\n      var i = this;\n      return k.Deferred(function (e) {\n        var o = i.$dialog.find(\".note-video-url\"),\n            t = i.$dialog.find(\".note-video-btn\");\n        i.ui.onDialogShown(i.$dialog, function () {\n          i.context.triggerEvent(\"dialog.shown\"), o.val(n).on(\"input\", function () {\n            i.ui.toggleBtn(t, o.val());\n          }), z.isSupportTouch || o.trigger(\"focus\"), t.click(function (t) {\n            t.preventDefault(), e.resolve(o.val());\n          }), i.bindEnterKey(o, t);\n        }), i.ui.onDialogHidden(i.$dialog, function () {\n          o.off(\"input\"), t.off(\"click\"), \"pending\" === e.state() && e.reject();\n        }), i.ui.showDialog(i.$dialog);\n      });\n    }, t;\n  }(),\n      ae = function () {\n    function t(t) {\n      this.context = t, this.ui = k.summernote.ui, this.$body = k(document.body), this.$editor = t.layoutInfo.editor, this.options = t.options, this.lang = this.options.langInfo;\n    }\n\n    return t.prototype.initialize = function () {\n      var t = this.options.dialogsInBody ? this.$body : this.$editor,\n          e = ['<p class=\"text-center\">', '<a href=\"http://summernote.org/\" target=\"_blank\">Summernote 0.8.11</a>  ', '<a href=\"https://github.com/summernote/summernote\" target=\"_blank\">Project</a>  ', '<a href=\"https://github.com/summernote/summernote/issues\" target=\"_blank\">Issues</a>', \"</p>\"].join(\"\");\n      this.$dialog = this.ui.dialog({\n        title: this.lang.options.help,\n        fade: this.options.dialogsFade,\n        body: this.createShortcutList(),\n        footer: e,\n        callback: function callback(t) {\n          t.find(\".modal-body,.note-modal-body\").css({\n            \"max-height\": 300,\n            overflow: \"scroll\"\n          });\n        }\n      }).render().appendTo(t);\n    }, t.prototype.destroy = function () {\n      this.ui.hideDialog(this.$dialog), this.$dialog.remove();\n    }, t.prototype.createShortcutList = function () {\n      var n = this,\n          i = this.options.keyMap[z.isMac ? \"mac\" : \"pc\"];\n      return Object.keys(i).map(function (t) {\n        var e = i[t],\n            o = k('<div><div class=\"help-list-item\"/></div>');\n        return o.append(k(\"<label><kbd>\" + t + \"</kdb></label>\").css({\n          width: 180,\n          \"margin-right\": 10\n        })).append(k(\"<span/>\").html(n.context.memo(\"help.\" + e) || e)), o.html();\n      }).join(\"\");\n    }, t.prototype.showHelpDialog = function () {\n      var e = this;\n      return k.Deferred(function (t) {\n        e.ui.onDialogShown(e.$dialog, function () {\n          e.context.triggerEvent(\"dialog.shown\"), t.resolve();\n        }), e.ui.showDialog(e.$dialog);\n      }).promise();\n    }, t.prototype.show = function () {\n      var t = this;\n      this.context.invoke(\"editor.saveRange\"), this.showHelpDialog().then(function () {\n        t.context.invoke(\"editor.restoreRange\");\n      });\n    }, t;\n  }(),\n      le = function () {\n    function t(t) {\n      var o = this;\n      this.context = t, this.ui = k.summernote.ui, this.options = t.options, this.events = {\n        \"summernote.keyup summernote.mouseup summernote.scroll\": function summernoteKeyupSummernoteMouseupSummernoteScroll() {\n          o.update();\n        },\n        \"summernote.disable summernote.change summernote.dialog.shown\": function summernoteDisableSummernoteChangeSummernoteDialogShown() {\n          o.hide();\n        },\n        \"summernote.focusout\": function summernoteFocusout(t, e) {\n          z.isFF || e.relatedTarget && Nt.ancestor(e.relatedTarget, C.eq(o.$popover[0])) || o.hide();\n        }\n      };\n    }\n\n    return t.prototype.shouldInitialize = function () {\n      return this.options.airMode && !N.isEmpty(this.options.popover.air);\n    }, t.prototype.initialize = function () {\n      this.$popover = this.ui.popover({\n        className: \"note-air-popover\"\n      }).render().appendTo(this.options.container);\n      var t = this.$popover.find(\".popover-content\");\n      this.context.invoke(\"buttons.build\", t, this.options.popover.air);\n    }, t.prototype.destroy = function () {\n      this.$popover.remove();\n    }, t.prototype.update = function () {\n      var t = this.context.invoke(\"editor.currentStyle\");\n\n      if (t.range && !t.range.isCollapsed()) {\n        var e = N.last(t.range.getClientRects());\n\n        if (e) {\n          var o = C.rect2bnd(e);\n          this.$popover.css({\n            display: \"block\",\n            left: Math.max(o.left + o.width / 2, 0) - 20,\n            top: o.top + o.height\n          }), this.context.invoke(\"buttons.updateCurrentStyle\", this.$popover);\n        }\n      } else this.hide();\n    }, t.prototype.hide = function () {\n      this.$popover.hide();\n    }, t;\n  }(),\n      ce = function () {\n    function t(t) {\n      var o = this;\n      this.context = t, this.ui = k.summernote.ui, this.$editable = t.layoutInfo.editable, this.options = t.options, this.hint = this.options.hint || [], this.direction = this.options.hintDirection || \"bottom\", this.hints = k.isArray(this.hint) ? this.hint : [this.hint], this.events = {\n        \"summernote.keyup\": function summernoteKeyup(t, e) {\n          e.isDefaultPrevented() || o.handleKeyup(e);\n        },\n        \"summernote.keydown\": function summernoteKeydown(t, e) {\n          o.handleKeydown(e);\n        },\n        \"summernote.disable summernote.dialog.shown\": function summernoteDisableSummernoteDialogShown() {\n          o.hide();\n        }\n      };\n    }\n\n    return t.prototype.shouldInitialize = function () {\n      return 0 < this.hints.length;\n    }, t.prototype.initialize = function () {\n      var e = this;\n      this.lastWordRange = null, this.$popover = this.ui.popover({\n        className: \"note-hint-popover\",\n        hideArrow: !0,\n        direction: \"\"\n      }).render().appendTo(this.options.container), this.$popover.hide(), this.$content = this.$popover.find(\".popover-content,.note-popover-content\"), this.$content.on(\"click\", \".note-hint-item\", function (t) {\n        e.$content.find(\".active\").removeClass(\"active\"), k(t.currentTarget).addClass(\"active\"), e.replace();\n      });\n    }, t.prototype.destroy = function () {\n      this.$popover.remove();\n    }, t.prototype.selectItem = function (t) {\n      this.$content.find(\".active\").removeClass(\"active\"), t.addClass(\"active\"), this.$content[0].scrollTop = t[0].offsetTop - this.$content.innerHeight() / 2;\n    }, t.prototype.moveDown = function () {\n      var t = this.$content.find(\".note-hint-item.active\"),\n          e = t.next();\n      if (e.length) this.selectItem(e);else {\n        var o = t.parent().next();\n        o.length || (o = this.$content.find(\".note-hint-group\").first()), this.selectItem(o.find(\".note-hint-item\").first());\n      }\n    }, t.prototype.moveUp = function () {\n      var t = this.$content.find(\".note-hint-item.active\"),\n          e = t.prev();\n      if (e.length) this.selectItem(e);else {\n        var o = t.parent().prev();\n        o.length || (o = this.$content.find(\".note-hint-group\").last()), this.selectItem(o.find(\".note-hint-item\").last());\n      }\n    }, t.prototype.replace = function () {\n      var t = this.$content.find(\".note-hint-item.active\");\n\n      if (t.length) {\n        var e = this.nodeFromItem(t);\n        this.lastWordRange.insertNode(e), Ft.createFromNode(e).collapse().select(), this.lastWordRange = null, this.hide(), this.context.triggerEvent(\"change\", this.$editable.html(), this.$editable[0]), this.context.invoke(\"editor.focus\");\n      }\n    }, t.prototype.nodeFromItem = function (t) {\n      var e = this.hints[t.data(\"index\")],\n          o = t.data(\"item\"),\n          n = e.content ? e.content(o) : o;\n      return \"string\" == typeof n && (n = Nt.createText(n)), n;\n    }, t.prototype.createItemTemplates = function (n, t) {\n      var i = this.hints[n];\n      return t.map(function (t, e) {\n        var o = k('<div class=\"note-hint-item\"/>');\n        return o.append(i.template ? i.template(t) : t + \"\"), o.data({\n          index: n,\n          item: t\n        }), o;\n      });\n    }, t.prototype.handleKeydown = function (t) {\n      this.$popover.is(\":visible\") && (t.keyCode === Lt.code.ENTER ? (t.preventDefault(), this.replace()) : t.keyCode === Lt.code.UP ? (t.preventDefault(), this.moveUp()) : t.keyCode === Lt.code.DOWN && (t.preventDefault(), this.moveDown()));\n    }, t.prototype.searchKeyword = function (t, e, o) {\n      var n = this.hints[t];\n\n      if (n && n.match.test(e) && n.search) {\n        var i = n.match.exec(e);\n        n.search(i[1], o);\n      } else o();\n    }, t.prototype.createGroup = function (e, t) {\n      var o = this,\n          n = k('<div class=\"note-hint-group note-hint-group-' + e + '\"/>');\n      return this.searchKeyword(e, t, function (t) {\n        (t = t || []).length && (n.html(o.createItemTemplates(e, t)), o.show());\n      }), n;\n    }, t.prototype.handleKeyup = function (t) {\n      var o = this;\n\n      if (!N.contains([Lt.code.ENTER, Lt.code.UP, Lt.code.DOWN], t.keyCode)) {\n        var e = this.context.invoke(\"editor.createRange\").getWordRange(),\n            n = e.toString();\n\n        if (this.hints.length && n) {\n          this.$content.empty();\n          var i = C.rect2bnd(N.last(e.getClientRects()));\n          i && (this.$popover.hide(), this.lastWordRange = e, this.hints.forEach(function (t, e) {\n            t.match.test(n) && o.createGroup(e, n).appendTo(o.$content);\n          }), this.$content.find(\".note-hint-item:first\").addClass(\"active\"), \"top\" === this.direction ? this.$popover.css({\n            left: i.left,\n            top: i.top - this.$popover.outerHeight() - 5\n          }) : this.$popover.css({\n            left: i.left,\n            top: i.top + i.height + 5\n          }));\n        } else this.hide();\n      }\n    }, t.prototype.show = function () {\n      this.$popover.show();\n    }, t.prototype.hide = function () {\n      this.$popover.hide();\n    }, t;\n  }(),\n      de = function () {\n    function t(t, e) {\n      this.ui = k.summernote.ui, this.$note = t, this.memos = {}, this.modules = {}, this.layoutInfo = {}, this.options = e, this.initialize();\n    }\n\n    return t.prototype.initialize = function () {\n      return this.layoutInfo = this.ui.createLayout(this.$note, this.options), this._initialize(), this.$note.hide(), this;\n    }, t.prototype.destroy = function () {\n      this._destroy(), this.$note.removeData(\"summernote\"), this.ui.removeLayout(this.$note, this.layoutInfo);\n    }, t.prototype.reset = function () {\n      var t = this.isDisabled();\n      this.code(Nt.emptyPara), this._destroy(), this._initialize(), t && this.disable();\n    }, t.prototype._initialize = function () {\n      var e = this,\n          o = k.extend({}, this.options.buttons);\n      Object.keys(o).forEach(function (t) {\n        e.memo(\"button.\" + t, o[t]);\n      });\n      var n = k.extend({}, this.options.modules, k.summernote.plugins || {});\n      Object.keys(n).forEach(function (t) {\n        e.module(t, n[t], !0);\n      }), Object.keys(this.modules).forEach(function (t) {\n        e.initializeModule(t);\n      });\n    }, t.prototype._destroy = function () {\n      var e = this;\n      Object.keys(this.modules).reverse().forEach(function (t) {\n        e.removeModule(t);\n      }), Object.keys(this.memos).forEach(function (t) {\n        e.removeMemo(t);\n      }), this.triggerEvent(\"destroy\", this);\n    }, t.prototype.code = function (t) {\n      var e = this.invoke(\"codeview.isActivated\");\n      if (void 0 === t) return this.invoke(\"codeview.sync\"), e ? this.layoutInfo.codable.val() : this.layoutInfo.editable.html();\n      e ? this.layoutInfo.codable.val(t) : this.layoutInfo.editable.html(t), this.$note.val(t), this.triggerEvent(\"change\", t);\n    }, t.prototype.isDisabled = function () {\n      return \"false\" === this.layoutInfo.editable.attr(\"contenteditable\");\n    }, t.prototype.enable = function () {\n      this.layoutInfo.editable.attr(\"contenteditable\", !0), this.invoke(\"toolbar.activate\", !0), this.triggerEvent(\"disable\", !1);\n    }, t.prototype.disable = function () {\n      this.invoke(\"codeview.isActivated\") && this.invoke(\"codeview.deactivate\"), this.layoutInfo.editable.attr(\"contenteditable\", !1), this.invoke(\"toolbar.deactivate\", !0), this.triggerEvent(\"disable\", !0);\n    }, t.prototype.triggerEvent = function () {\n      var t = N.head(arguments),\n          e = N.tail(N.from(arguments)),\n          o = this.options.callbacks[C.namespaceToCamel(t, \"on\")];\n      o && o.apply(this.$note[0], e), this.$note.trigger(\"summernote.\" + t, e);\n    }, t.prototype.initializeModule = function (t) {\n      var e = this.modules[t];\n      e.shouldInitialize = e.shouldInitialize || C.ok, e.shouldInitialize() && (e.initialize && e.initialize(), e.events && Nt.attachEvents(this.$note, e.events));\n    }, t.prototype.module = function (t, e, o) {\n      if (1 === arguments.length) return this.modules[t];\n      this.modules[t] = new e(this), o || this.initializeModule(t);\n    }, t.prototype.removeModule = function (t) {\n      var e = this.modules[t];\n      e.shouldInitialize() && (e.events && Nt.detachEvents(this.$note, e.events), e.destroy && e.destroy()), delete this.modules[t];\n    }, t.prototype.memo = function (t, e) {\n      if (1 === arguments.length) return this.memos[t];\n      this.memos[t] = e;\n    }, t.prototype.removeMemo = function (t) {\n      this.memos[t] && this.memos[t].destroy && this.memos[t].destroy(), delete this.memos[t];\n    }, t.prototype.createInvokeHandlerAndUpdateState = function (e, o) {\n      var n = this;\n      return function (t) {\n        n.createInvokeHandler(e, o)(t), n.invoke(\"buttons.updateCurrentStyle\");\n      };\n    }, t.prototype.createInvokeHandler = function (o, n) {\n      var i = this;\n      return function (t) {\n        t.preventDefault();\n        var e = k(t.target);\n        i.invoke(o, n || e.closest(\"[data-value]\").data(\"value\"), e);\n      };\n    }, t.prototype.invoke = function () {\n      var t = N.head(arguments),\n          e = N.tail(N.from(arguments)),\n          o = t.split(\".\"),\n          n = 1 < o.length,\n          i = n && N.head(o),\n          r = n ? N.last(o) : N.head(o),\n          s = this.modules[i || \"editor\"];\n      return !i && this[r] ? this[r].apply(this, e) : s && s[r] && s.shouldInitialize() ? s[r].apply(s, e) : void 0;\n    }, t;\n  }();\n\n  k.fn.extend({\n    summernote: function summernote() {\n      var t = k.type(N.head(arguments)),\n          e = \"string\" === t,\n          o = \"object\" === t,\n          i = k.extend({}, k.summernote.options, o ? N.head(arguments) : {});\n      i.langInfo = k.extend(!0, {}, k.summernote.lang[\"en-US\"], k.summernote.lang[i.lang]), i.icons = k.extend(!0, {}, k.summernote.options.icons, i.icons), i.tooltip = \"auto\" === i.tooltip ? !z.isSupportTouch : i.tooltip, this.each(function (t, e) {\n        var o = k(e);\n\n        if (!o.data(\"summernote\")) {\n          var n = new de(o, i);\n          o.data(\"summernote\", n), o.data(\"summernote\").triggerEvent(\"init\", n.layoutInfo);\n        }\n      });\n      var n = this.first();\n\n      if (n.length) {\n        var r = n.data(\"summernote\");\n        if (e) return r.invoke.apply(r, N.from(arguments));\n        i.focus && r.invoke(\"editor.focus\");\n      }\n\n      return this;\n    }\n  }), k.summernote = k.extend(k.summernote, {\n    version: \"0.8.11\",\n    ui: b,\n    dom: Nt,\n    range: Ft,\n    plugins: {},\n    options: {\n      modules: {\n        editor: jt,\n        clipboard: qt,\n        dropzone: Kt,\n        codeview: Vt,\n        statusbar: Wt,\n        fullscreen: _t,\n        handle: Gt,\n        hintPopover: ce,\n        autoLink: Yt,\n        autoSync: Qt,\n        placeholder: Jt,\n        buttons: Xt,\n        toolbar: te,\n        linkDialog: ee,\n        linkPopover: oe,\n        imageDialog: ne,\n        imagePopover: ie,\n        tablePopover: re,\n        videoDialog: se,\n        helpDialog: ae,\n        airPopover: le\n      },\n      buttons: {},\n      lang: \"en-US\",\n      followingToolbar: !0,\n      otherStaticBar: \"\",\n      toolbar: [[\"style\", [\"style\"]], [\"font\", [\"bold\", \"underline\", \"clear\"]], [\"fontname\", [\"fontname\"]], [\"color\", [\"color\"]], [\"para\", [\"ul\", \"ol\", \"paragraph\"]], [\"table\", [\"table\"]], [\"insert\", [\"link\", \"picture\", \"video\"]], [\"view\", [\"fullscreen\", \"codeview\", \"help\"]]],\n      popatmouse: !0,\n      popover: {\n        image: [[\"imagesize\", [\"imageSize100\", \"imageSize50\", \"imageSize25\"]], [\"float\", [\"floatLeft\", \"floatRight\", \"floatNone\"]], [\"remove\", [\"removeMedia\"]]],\n        link: [[\"link\", [\"linkDialogShow\", \"unlink\"]]],\n        table: [[\"add\", [\"addRowDown\", \"addRowUp\", \"addColLeft\", \"addColRight\"]], [\"delete\", [\"deleteRow\", \"deleteCol\", \"deleteTable\"]]],\n        air: [[\"color\", [\"color\"]], [\"font\", [\"bold\", \"underline\", \"clear\"]], [\"para\", [\"ul\", \"paragraph\"]], [\"table\", [\"table\"]], [\"insert\", [\"link\", \"picture\"]]]\n      },\n      airMode: !1,\n      width: null,\n      height: null,\n      linkTargetBlank: !0,\n      focus: !1,\n      tabSize: 4,\n      styleWithSpan: !0,\n      shortcuts: !0,\n      textareaAutoSync: !0,\n      hintDirection: \"bottom\",\n      tooltip: \"auto\",\n      container: \"body\",\n      maxTextLength: 0,\n      blockquoteBreakingLevel: 2,\n      styleTags: [\"p\", \"blockquote\", \"pre\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"],\n      fontNames: [\"Arial\", \"Arial Black\", \"Comic Sans MS\", \"Courier New\", \"Helvetica Neue\", \"Helvetica\", \"Impact\", \"Lucida Grande\", \"Tahoma\", \"Times New Roman\", \"Verdana\"],\n      fontSizes: [\"8\", \"9\", \"10\", \"11\", \"12\", \"14\", \"18\", \"24\", \"36\"],\n      colors: [[\"#000000\", \"#424242\", \"#636363\", \"#9C9C94\", \"#CEC6CE\", \"#EFEFEF\", \"#F7F7F7\", \"#FFFFFF\"], [\"#FF0000\", \"#FF9C00\", \"#FFFF00\", \"#00FF00\", \"#00FFFF\", \"#0000FF\", \"#9C00FF\", \"#FF00FF\"], [\"#F7C6CE\", \"#FFE7CE\", \"#FFEFC6\", \"#D6EFD6\", \"#CEDEE7\", \"#CEE7F7\", \"#D6D6E7\", \"#E7D6DE\"], [\"#E79C9C\", \"#FFC69C\", \"#FFE79C\", \"#B5D6A5\", \"#A5C6CE\", \"#9CC6EF\", \"#B5A5D6\", \"#D6A5BD\"], [\"#E76363\", \"#F7AD6B\", \"#FFD663\", \"#94BD7B\", \"#73A5AD\", \"#6BADDE\", \"#8C7BC6\", \"#C67BA5\"], [\"#CE0000\", \"#E79439\", \"#EFC631\", \"#6BA54A\", \"#4A7B8C\", \"#3984C6\", \"#634AA5\", \"#A54A7B\"], [\"#9C0000\", \"#B56308\", \"#BD9400\", \"#397B21\", \"#104A5A\", \"#085294\", \"#311873\", \"#731842\"], [\"#630000\", \"#7B3900\", \"#846300\", \"#295218\", \"#083139\", \"#003163\", \"#21104A\", \"#4A1031\"]],\n      colorsName: [[\"Black\", \"Tundora\", \"Dove Gray\", \"Star Dust\", \"Pale Slate\", \"Gallery\", \"Alabaster\", \"White\"], [\"Red\", \"Orange Peel\", \"Yellow\", \"Green\", \"Cyan\", \"Blue\", \"Electric Violet\", \"Magenta\"], [\"Azalea\", \"Karry\", \"Egg White\", \"Zanah\", \"Botticelli\", \"Tropical Blue\", \"Mischka\", \"Twilight\"], [\"Tonys Pink\", \"Peach Orange\", \"Cream Brulee\", \"Sprout\", \"Casper\", \"Perano\", \"Cold Purple\", \"Careys Pink\"], [\"Mandy\", \"Rajah\", \"Dandelion\", \"Olivine\", \"Gulf Stream\", \"Viking\", \"Blue Marguerite\", \"Puce\"], [\"Guardsman Red\", \"Fire Bush\", \"Golden Dream\", \"Chelsea Cucumber\", \"Smalt Blue\", \"Boston Blue\", \"Butterfly Bush\", \"Cadillac\"], [\"Sangria\", \"Mai Tai\", \"Buddha Gold\", \"Forest Green\", \"Eden\", \"Venice Blue\", \"Meteorite\", \"Claret\"], [\"Rosewood\", \"Cinnamon\", \"Olive\", \"Parsley\", \"Tiber\", \"Midnight Blue\", \"Valentino\", \"Loulou\"]],\n      lineHeights: [\"1.0\", \"1.2\", \"1.4\", \"1.5\", \"1.6\", \"1.8\", \"2.0\", \"3.0\"],\n      tableClassName: \"table table-bordered\",\n      insertTableMaxSize: {\n        col: 10,\n        row: 10\n      },\n      dialogsInBody: !1,\n      dialogsFade: !1,\n      maximumImageFileSize: null,\n      callbacks: {\n        onInit: null,\n        onFocus: null,\n        onBlur: null,\n        onBlurCodeview: null,\n        onEnter: null,\n        onKeyup: null,\n        onKeydown: null,\n        onImageUpload: null,\n        onImageUploadError: null,\n        onImageLinkInsert: null\n      },\n      codemirror: {\n        mode: \"text/html\",\n        htmlMode: !0,\n        lineNumbers: !0\n      },\n      keyMap: {\n        pc: {\n          ENTER: \"insertParagraph\",\n          \"CTRL+Z\": \"undo\",\n          \"CTRL+Y\": \"redo\",\n          TAB: \"tab\",\n          \"SHIFT+TAB\": \"untab\",\n          \"CTRL+B\": \"bold\",\n          \"CTRL+I\": \"italic\",\n          \"CTRL+U\": \"underline\",\n          \"CTRL+SHIFT+S\": \"strikethrough\",\n          \"CTRL+BACKSLASH\": \"removeFormat\",\n          \"CTRL+SHIFT+L\": \"justifyLeft\",\n          \"CTRL+SHIFT+E\": \"justifyCenter\",\n          \"CTRL+SHIFT+R\": \"justifyRight\",\n          \"CTRL+SHIFT+J\": \"justifyFull\",\n          \"CTRL+SHIFT+NUM7\": \"insertUnorderedList\",\n          \"CTRL+SHIFT+NUM8\": \"insertOrderedList\",\n          \"CTRL+LEFTBRACKET\": \"outdent\",\n          \"CTRL+RIGHTBRACKET\": \"indent\",\n          \"CTRL+NUM0\": \"formatPara\",\n          \"CTRL+NUM1\": \"formatH1\",\n          \"CTRL+NUM2\": \"formatH2\",\n          \"CTRL+NUM3\": \"formatH3\",\n          \"CTRL+NUM4\": \"formatH4\",\n          \"CTRL+NUM5\": \"formatH5\",\n          \"CTRL+NUM6\": \"formatH6\",\n          \"CTRL+ENTER\": \"insertHorizontalRule\",\n          \"CTRL+K\": \"linkDialog.show\"\n        },\n        mac: {\n          ENTER: \"insertParagraph\",\n          \"CMD+Z\": \"undo\",\n          \"CMD+SHIFT+Z\": \"redo\",\n          TAB: \"tab\",\n          \"SHIFT+TAB\": \"untab\",\n          \"CMD+B\": \"bold\",\n          \"CMD+I\": \"italic\",\n          \"CMD+U\": \"underline\",\n          \"CMD+SHIFT+S\": \"strikethrough\",\n          \"CMD+BACKSLASH\": \"removeFormat\",\n          \"CMD+SHIFT+L\": \"justifyLeft\",\n          \"CMD+SHIFT+E\": \"justifyCenter\",\n          \"CMD+SHIFT+R\": \"justifyRight\",\n          \"CMD+SHIFT+J\": \"justifyFull\",\n          \"CMD+SHIFT+NUM7\": \"insertUnorderedList\",\n          \"CMD+SHIFT+NUM8\": \"insertOrderedList\",\n          \"CMD+LEFTBRACKET\": \"outdent\",\n          \"CMD+RIGHTBRACKET\": \"indent\",\n          \"CMD+NUM0\": \"formatPara\",\n          \"CMD+NUM1\": \"formatH1\",\n          \"CMD+NUM2\": \"formatH2\",\n          \"CMD+NUM3\": \"formatH3\",\n          \"CMD+NUM4\": \"formatH4\",\n          \"CMD+NUM5\": \"formatH5\",\n          \"CMD+NUM6\": \"formatH6\",\n          \"CMD+ENTER\": \"insertHorizontalRule\",\n          \"CMD+K\": \"linkDialog.show\"\n        }\n      },\n      icons: {\n        align: \"note-icon-align\",\n        alignCenter: \"note-icon-align-center\",\n        alignJustify: \"note-icon-align-justify\",\n        alignLeft: \"note-icon-align-left\",\n        alignRight: \"note-icon-align-right\",\n        rowBelow: \"note-icon-row-below\",\n        colBefore: \"note-icon-col-before\",\n        colAfter: \"note-icon-col-after\",\n        rowAbove: \"note-icon-row-above\",\n        rowRemove: \"note-icon-row-remove\",\n        colRemove: \"note-icon-col-remove\",\n        indent: \"note-icon-align-indent\",\n        outdent: \"note-icon-align-outdent\",\n        arrowsAlt: \"note-icon-arrows-alt\",\n        bold: \"note-icon-bold\",\n        caret: \"note-icon-caret\",\n        circle: \"note-icon-circle\",\n        close: \"note-icon-close\",\n        code: \"note-icon-code\",\n        eraser: \"note-icon-eraser\",\n        font: \"note-icon-font\",\n        frame: \"note-icon-frame\",\n        italic: \"note-icon-italic\",\n        link: \"note-icon-link\",\n        unlink: \"note-icon-chain-broken\",\n        magic: \"note-icon-magic\",\n        menuCheck: \"note-icon-menu-check\",\n        minus: \"note-icon-minus\",\n        orderedlist: \"note-icon-orderedlist\",\n        pencil: \"note-icon-pencil\",\n        picture: \"note-icon-picture\",\n        question: \"note-icon-question\",\n        redo: \"note-icon-redo\",\n        square: \"note-icon-square\",\n        strikethrough: \"note-icon-strikethrough\",\n        subscript: \"note-icon-subscript\",\n        superscript: \"note-icon-superscript\",\n        table: \"note-icon-table\",\n        textHeight: \"note-icon-text-height\",\n        trash: \"note-icon-trash\",\n        underline: \"note-icon-underline\",\n        undo: \"note-icon-undo\",\n        unorderedlist: \"note-icon-unorderedlist\",\n        video: \"note-icon-video\"\n      }\n    }\n  });\n});","map":null,"metadata":{},"sourceType":"script"}