{"version":3,"sources":["views/maps/components/MapView.js"],"names":["SmartMap","compose","withProps","googleMapURL","concat","loadingElement","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","style","height","containerElement","mapElement","withScriptjs","withGoogleMap","props","react_google_maps__WEBPACK_IMPORTED_MODULE_7__","defaultOptions","styles","defaultZoom","defaultCenter","lat","lng","MapView","currentStyleId","currentStyles","fetchStyle","getJSON","then","_this","forceUpdate","this","match","params","nextProps","nextState","key","React","Component"],"mappings":"yNAUMA,EAAWC,YACfC,YAAU,CACRC,aAAY,uDAAAC,OAJH,0CAIG,sCACZC,eAAgBC,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEC,OAAM,UACpCC,iBAAkBL,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEC,OAAM,WACtCE,WAAYN,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEC,OAAM,YAElCG,eACAC,gBAReb,CASf,SAAAc,GACA,OACET,EAAAC,EAAAC,cAACQ,EAAA,UAAD,CACEC,eAAgB,CAAEC,OAAQH,EAAMG,QAChCC,YAAa,EACbC,cAAe,CAAEC,KAAM,OAAQC,IAAK,aAKrBC,6MACnBC,eAAiB,OACjBC,cAAgB,OAMhBC,WAAa,SAAAjB,GACXkB,YAAQ,mBAAqBlB,EAAQ,SAASmB,KAAK,SAAAV,GACjDW,EAAKL,eAAiBf,EACtBoB,EAAKJ,cAAgBP,EACrBW,EAAKC,oGAPPC,KAAKL,WAAWK,KAAKhB,MAAMiB,MAAMC,OAAOxB,qDAWpByB,EAAWC,GAK/B,OAJIJ,KAAKP,iBAAmBU,EAAUF,MAAMC,OAAOxB,OACjDsB,KAAKL,WAAWQ,EAAUF,MAAMC,OAAOxB,OAGlCsB,KAAKP,iBAAmBU,EAAUF,MAAMC,OAAOxB,uCAItD,OAAOsB,KAAKN,cACVnB,EAAAC,EAAAC,cAACR,EAAD,CAAUoC,IAAKL,KAAKP,eAAgBN,OAAQa,KAAKN,gBAC/C,YA3B6BY,IAAMC","file":"static/js/68.4f6bba10.chunk.js","sourcesContent":["import React from \"react\";\n\nimport { compose, withProps } from \"recompose\";\nimport { withScriptjs, withGoogleMap, GoogleMap } from \"react-google-maps\";\n\nimport { getJSON } from \"../../../common/utils\";\n\n// replace this with your GoogleMaps API key\nconst API_KEY = `AIzaSyDd8YW8k_J-Jkti-W4QNk5dL8O_5_2QUWY`;\n\nconst SmartMap = compose(\n  withProps({\n    googleMapURL: `https://maps.googleapis.com/maps/api/js?v=3.exp&key=${API_KEY}&libraries=geometry,drawing,places`,\n    loadingElement: <div style={{ height: `100%` }} />,\n    containerElement: <div style={{ height: `400px` }} />,\n    mapElement: <div style={{ height: `100%` }} />\n  }),\n  withScriptjs,\n  withGoogleMap\n)(props => {\n  return (\n    <GoogleMap\n      defaultOptions={{ styles: props.styles }}\n      defaultZoom={8}\n      defaultCenter={{ lat: -34.397, lng: 150.644 }}\n    />\n  );\n});\n\nexport default class MapView extends React.Component {\n  currentStyleId = null;\n  currentStyles = null;\n\n  componentDidMount() {\n    this.fetchStyle(this.props.match.params.style);\n  }\n\n  fetchStyle = style => {\n    getJSON(\"assets/api/maps/\" + style + \".json\").then(styles => {\n      this.currentStyleId = style;\n      this.currentStyles = styles;\n      this.forceUpdate();\n    });\n  };\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.currentStyleId !== nextProps.match.params.style) {\n      this.fetchStyle(nextProps.match.params.style);\n    }\n\n    return this.currentStyleId !== nextProps.match.params.style;\n  }\n\n  render() {\n    return this.currentStyles ? (\n      <SmartMap key={this.currentStyleId} styles={this.currentStyles} />\n    ) : null;\n  }\n}\n"],"sourceRoot":""}